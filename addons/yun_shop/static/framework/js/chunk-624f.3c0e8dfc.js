(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-624f"],{"3yxI":function(e,t,a){"use strict";a.r(t);var i={name:"ThemeIndex",data:function(){return{list:[],form:{title:"",is_default:0},dialogTableVisible:!1,change_pwd_id:"",rules:{title:[{required:!0,trigger:"blur",message:"请输入标题"}],is_default:{required:!0,trigger:"blur",message:"请选择是否默认"}},pageSize:0,current_page:0,total:0}},created:function(){this.currentChange(1)},destroyed:function(){},methods:{addTheme:function(){this.dialogTableVisible=!0},sureTheme:function(){var e=this;$http.post("/admin/user/create_theme",{data:this.form},"保存中").then(function(t){1===t.result?(e.$message.success(t.msg),e.dialogTableVisible=!1,e.currentChange(1)):t.msg&&""!=t.msg&&e.$message.error(t.msg)}).catch(function(t){e.$message.error("获取失败!"),console.error(t)})},changeStatus:function(e,t,a){var i=this;console.log(a),$http.post("/admin/user/edit_theme",{id:e,status:4,data:{is_default:t}},"保存中").then(function(e){1===e.result?(i.$message.success(e.msg),i.currentChange(1)):e.msg&&""!=e.msg&&(i.$message.error(e.msg),i.list[a].is_default)}).catch(function(e){i.$message.error("获取失败!"),i.list[a].is_default,console.error(e)})},currentChange:function(e){var t=this;$http.post("/admin/user/theme_list",{page:e},"加载中").then(function(e){1===e.result?(t.total=e.data.total,t.pageSize=e.data.per_page,t.list=e.data.data,t.current_page=e.data.current_page):e.msg&&""!=e.msg&&t.$message.error(e.msg)}).catch(function(e){t.$message.error("获取失败!"),console.error(e)})}}},r=(a("xzW6"),a("KHd+")),l=Object(r.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"right"},[e._m(0),e._v(" "),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{label:"主题信息",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n            "+e._s(t.row.title)+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"是否默认",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){e.changeStatus(t.row.id,t.row.is_default,t.$index)}},model:{value:t.row.is_default,callback:function(a){e.$set(t.row,"is_default",a)},expression:"scope.row.is_default"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["uniacid_theme"!=t.row.identification?a("router-link",{attrs:{to:"/home/theme/list/"+t.row.id}},[a("el-button",[e._v("页面列表")])],1):e._e(),e._v(" "),"uniacid_theme"!=t.row.identification?a("router-link",{attrs:{to:"/home/theme/top/"+t.row.id}},[a("el-button",[e._v("顶部设置 ")])],1):e._e(),e._v(" "),"uniacid_theme"!=t.row.identification?a("router-link",{attrs:{to:"/home/theme/bottom/"+t.row.id}},[a("el-button",[e._v("底部设置 ")])],1):e._e(),e._v(" "),a("router-link",{attrs:{to:"/home/theme/basic/"+t.row.id}},[a("el-button",[e._v("基础设置")])],1),e._v(" "),"uniacid_theme"!=t.row.identification?a("router-link",{attrs:{to:"/home/theme/record/"+t.row.id}},[a("el-button",[e._v("填写记录")])],1):e._e()]}}])})],1),e._v(" "),a("el-row",[a("el-col",{staticStyle:{padding:"15px 5% 15px 0"},attrs:{span:24,align:"right"}},[a("el-pagination",{attrs:{layout:"prev, pager, next","current-page":e.current_page,"page-size":e.pageSize,total:e.total,background:""},on:{"current-change":e.currentChange,"update:currentPage":function(t){e.current_page=t}}})],1)],1)],e._v(" "),a("el-dialog",{attrs:{title:"添加主题",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"20%"}},[a("el-form-item",{attrs:{label:"主题名称",prop:"title"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入主题名称"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否默认",prop:"is_default"}},[a("el-radio",{attrs:{label:1},model:{value:e.form.is_default,callback:function(t){e.$set(e.form,"is_default",t)},expression:"form.is_default"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0},model:{value:e.form.is_default,callback:function(t){e.$set(e.form,"is_default",t)},expression:"form.is_default"}},[e._v("否")])],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.sureTheme("form")}}},[e._v("确 定")])],1)],1)],2)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"right-head"},[t("div",{staticClass:"right-head-con"},[this._v("主题设置")])])}],!1,null,null,null);l.options.__file="index.vue";t.default=l.exports},rNBc:function(e,t,a){},xzW6:function(e,t,a){"use strict";var i=a("rNBc");a.n(i).a}}]);