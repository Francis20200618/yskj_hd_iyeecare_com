(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-commons"],{"/NEe":function(t,e,i){},"032W":function(t,e,i){},"0VAP":function(t,e,i){"use strict";var s=i("GQeE"),a=i.n(s),n=i("QbLZ"),o=i.n(n),r=i("RCcY"),c=i("L2JU"),l={props:{defaultActive:{type:String,default:"scriptLibraryMaterial"}},data:function(){return{router_list:[{category_id:"scriptLibraryMaterial",category_title:"素材管理",routers:[]},{category_id:"scriptLibrarySet",category_title:"基础设置",routers:[]}]}},components:{sideItem:r.a},computed:o()({},Object(c.b)(["permission_routers","userInfo","globalData"])),watch:{permission_routers:function(t,e){this.signRouters(t)}},mounted:function(){this.signRouters()},methods:{signRouters:function(t){var e=[];this.globalData.tab&&(e=this.globalData.tab.filter(function(t){return"scriptLibrary"===t.route}));var i=(t||this.permission_routers).filter(function(t){return"scriptLibrary"===t.name});if(i[0]&&this.router_list.map(function(t){i[0].children.map(function(e){e.class_id==t.category_id&&t.routers.push(e)})}),e[0]){var s={};e[0].child.map(function(t){s[t.route]=t.child.map(function(t){return t.route})}),this.router_list.map(function(t){a()(s).indexOf(t.category_id)<0&&(t.hidden=!0),t.routers.map(function(e){s[t.category_id]&&s[t.category_id].indexOf(e.name)<0&&(e.notShow=!0)})})}}}},d=(i("G6y4"),i("KHd+")),u=Object(d.a)(l,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"second-side-box"},[e("div",{staticStyle:{width:"150px"}}),this._v(" "),e("div",{staticClass:"second-side-box-fixed"},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":this.defaultActive}},this._l(this.router_list,function(t){return e("side-item",{key:t.category_id,attrs:{item:t}})}))],1)])},[],!1,null,"b1baaaee",null);u.options.__file="script_library_side.vue";e.a=u.exports},"2gMQ":function(t,e,i){"use strict";var s=i("GQeE"),a=i.n(s),n=i("QbLZ"),o=i.n(n),r=i("RCcY"),c=i("L2JU"),l={props:{defaultActive:{type:String,default:"1"}},data:function(){return{router_list:[{category_id:"serviceIndex",category_title:"客服组",routers:[]},{category_id:"serviceEmployeeList",category_title:"客服管理",routers:[]},{category_id:"serviceChatHistory",category_title:"会话",routers:[]},{category_id:"serviceChatToolsList",category_title:"聊天工具栏",routers:[]},{category_id:"serviceCommonReplyList",category_title:"快捷回复管理",routers:[]},{category_id:"serviceBasic",category_title:"设置",routers:[]}]}},components:{sideItem:r.a},computed:o()({},Object(c.b)(["permission_routers","userInfo","globalData"])),watch:{permission_routers:function(t,e){this.signRouters(t)}},mounted:function(){this.signRouters()},methods:{signRouters:function(t){var e=[];this.globalData.tab&&(e=this.globalData.tab.filter(function(t){return"service"===t.route}));var i=(t||this.permission_routers).filter(function(t){return"service"===t.name});if(i[0]&&this.router_list.map(function(t){i[0].children.map(function(e){e.class_id==t.category_id&&t.routers.push(e)})}),e[0]){var s={};e[0].child.map(function(t){s[t.route]=t.child.map(function(t){return t.route})}),this.router_list.map(function(t){a()(s).indexOf(t.category_id)<0&&(t.hidden=!0),t.routers.map(function(e){s[t.category_id]&&s[t.category_id].indexOf(e.name)<0&&(e.notShow=!0)})})}}}},d=(i("NlLX"),i("KHd+")),u=Object(d.a)(l,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"second-side-box"},[e("div",{staticStyle:{width:"150px"}}),this._v(" "),e("div",{staticClass:"second-side-box-fixed"},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":this.defaultActive,"default-openeds":["serviceChatHistory"]}},this._l(this.router_list,function(t){return e("side-item",{key:t.category_id,attrs:{item:t}})}))],1)])},[],!1,null,"6f7a53ac",null);u.options.__file="yun_service_side.vue";e.a=u.exports},"2kDQ":function(t,e,i){"use strict";var s=i("GQeE"),a=i.n(s),n=i("QbLZ"),o=i.n(n),r=i("RCcY"),c=i("L2JU"),l={props:{defaultActive:{type:String,default:"1"},selectName:{type:String,default:"setting"},other_list:{type:null},sideStyle:{type:String,default:"route"}},data:function(){return{router_list:[{category_id:"setting",category_title:"企业信息",routers:[]},{category_id:"settingConfig",category_title:"企业微信配置",routers:[]}]}},components:{sideItem:r.a},computed:o()({},Object(c.b)(["permission_routers","userInfo","globalData"])),watch:{permission_routers:function(t,e){this.signRouters(t)}},mounted:function(){this.signRouters()},methods:{signRouters:function(t){var e=this,i=[];this.globalData.tab&&(i=this.globalData.tab.filter(function(t){return t.route===e.selectName}));var s=(t||this.permission_routers).filter(function(t){return t.name===e.selectName});if(s[0]&&this.router_list.map(function(t){s[0].children.map(function(e){e.class_id==t.category_id&&t.routers.push(e)})}),i[0]){var n={};i[0].child.map(function(t){n[t.route]=t.child.map(function(t){return t.route})}),this.router_list.map(function(t){a()(n).indexOf(t.category_id)<0&&(t.hidden=!0),t.routers.map(function(e){n[t.category_id]&&n[t.category_id].indexOf(e.name)<0&&(e.notShow=!0)})})}},getterJump:function(t){this.$emit("getterSet",t.jump_id)}}},d=(i("9dz0"),i("KHd+")),u=Object(d.a)(l,function(){var t=this,e=t.$createElement,i=t._self._c||e;return"route"==t.sideStyle?i("div",{staticClass:"second-side-box"},[i("div",{staticStyle:{width:"150px"}}),t._v(" "),i("div",{staticClass:"second-side-box-fixed"},[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.defaultActive}},t._l(t.router_list,function(t){return i("side-item",{key:t.category_id,attrs:{item:t}})}))],1)]):i("div",{staticClass:"second-side-box"},[i("div",{staticStyle:{width:"150px"}}),t._v(" "),i("div",{staticClass:"second-side-box-fixed"},[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.defaultActive}},t._l(t.other_list,function(e,s){return i("el-menu-item",{key:s,attrs:{index:e.category_id},on:{click:function(i){t.getterJump(e)}}},[i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.category_title))])])}))],1)])},[],!1,null,"5ecc1984",null);u.options.__file="sign_side_setting.vue";e.a=u.exports},"3vhb":function(t,e,i){"use strict";var s=i("QbLZ"),a=i.n(s),n=i("RCcY"),o=i("L2JU"),r={data:function(){return{router_list:[{category_id:"1",category_title:"员工管理",routers:[]}]}},components:{sideItem:n.a},computed:a()({},Object(o.b)(["permission_routers","userInfo"]),{allChecked:function(){return this.todos.every(function(t){return t.done})}}),watch:{permission_routers:function(t,e){this.signRouters(t)}},mounted:function(){this.signRouters()},methods:{signRouters:function(t){var e=(t||this.permission_routers).filter(function(t){return"staff"===t.name});e[0]&&this.router_list.map(function(t){e[0].children.map(function(e){e.class_id==t.category_id&&t.routers.push(e)})})}}},c=(i("qLsU"),i("KHd+")),l=Object(c.a)(r,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"second-side-box"},[e("div",{staticStyle:{width:"150px"}}),this._v(" "),e("div",{staticClass:"second-side-box-fixed"},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1"}},this._l(this.router_list,function(t){return e("side-item",{key:t.category_id,attrs:{item:t}})}))],1)])},[],!1,null,"c83e20a2",null);l.options.__file="staff_side.vue";e.a=l.exports},"3xbQ":function(t,e,i){"use strict";var s=i("s/9I");i.n(s).a},"40RR":function(t,e,i){"use strict";var s=i("ROBl");i.n(s).a},"4AGi":function(t,e,i){},"56fG":function(t,e,i){},"6AmQ":function(t,e,i){},"87GE":function(t,e,i){},"9CxU":function(t,e,i){"use strict";var s=i("7Qib");e.a={data:function(){return{sidebarElm:null}},mounted:function(){var t=this;this.__resizeHandler=Object(s.a)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler),this.sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.sidebarElm&&this.sidebarElm.addEventListener("transitionend",this.sidebarResizeHandler)},beforeDestroy:function(){window.removeEventListener("resize",this.__resizeHandler),this.sidebarElm&&this.sidebarElm.removeEventListener("transitionend",this.sidebarResizeHandler)},methods:{sidebarResizeHandler:function(t){"width"===t.propertyName&&this.__resizeHandler()}}}},"9dz0":function(t,e,i){"use strict";var s=i("87GE");i.n(s).a},AA3k:function(t,e,i){},AKfa:function(t,e,i){"use strict";var s=i("h548");i.n(s).a},Beqw:function(t,e,i){"use strict";var s=i("WbTP");i.n(s).a},CL4z:function(t,e,i){},Dc8U:function(t,e,i){},ErL5:function(t,e,i){"use strict";var s={props:["centerDialogVisible"],data:function(){return{ImgList:[],submit_loading:!1,uploadImg:"",uploadImgUrl:"",chooseImg:"",radio1:"不限",radio2:"不限",activeName:"first",pageSize:0,current_page:0,total:0}},methods:{closeVisible:function(){this.$emit("changeVisible",!1)},sureImg:function(){this.$emit("sureImg",this.uploadImg,this.uploadImgUrl),this.uploadImg="",this.uploadImgUrl="",this.closeVisible()},currentChange:function(t){var e=this;$http.get("/admin/all/list",{page:t,year:this.radio1,month:this.radio2},"加载中").then(function(t){1===t.result?(e.total=t.data.total,e.ImgList=t.data.data,e.current_page=t.data.current_page,e.pageSize=t.data.per_page):(e.list=t.data,e.$message.error("接口请求错误"))}).catch(function(t){console.error(t)})},beforeUpload:function(t){this.submit_loading=!0;var e=t.size/1024/1024<4;return e||(this.$message.error("上传图片大小不能超过 4MB!"),this.submit_loading=!1),e},chooseYear:function(t){this.currentChange(1)},chooseMonth:function(t){this.currentChange(1)},uploadSuccess:function(t,e){console.log(t),1===t.result?(this.uploadImg=t.data.img_url,this.uploadImgUrl=t.data.img,this.$message.success("上传成功！")):this.$message.error(t.msg),this.submit_loading=!1}}},a=(i("3xbQ"),i("KHd+")),n=Object(a.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{visible:t.centerDialogVisible,width:"65%",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[i("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"上传图片",name:"first"}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.submit_loading,expression:"submit_loading"}],staticClass:"submit_Img",staticStyle:{"text-align":"center"}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.fun.getRealUrl("upload.uploadPic"),accept:"image/*","show-file-list":!1,"on-success":t.uploadSuccess,"before-upload":t.beforeUpload}},[t.uploadImg?i("div",{staticClass:"avatar_box"},[i("img",{staticClass:"avatar",attrs:{src:t.uploadImg}})]):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),t._v(" "),i("el-tab-pane",{attrs:{label:"提取网络图片",name:"second"}},[i("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"请输入网络图片地址"},model:{value:t.uploadImg,callback:function(e){t.uploadImg=e},expression:"uploadImg"}})],1),t._v(" "),t._e()],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.closeVisible}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.sureImg}},[t._v("确 定 ")])],1)],1)],1)},[],!1,null,"30106400",null);n.options.__file="images.vue";e.a=n.exports},Fqtg:function(t,e,i){"use strict";var s={props:["centerDialogVideoVisible"],data:function(){return{video:"",uploadVideo:"",activeName:"first",submit_loading:!1,closeUploadInfo:!1}},methods:{uploadSuccess:function(t,e){if(1===t.result){if(!this.closeUploadInfo)return void this.$message.error("请上传正确视频格式");this.uploadVideo=t.data.img_url,this.$message.success("上传成功！")}else this.$message.error(t.msg);this.submit_loading=!1},beforeUpload:function(t,e){"video"!==t.type.split("/")[0]?this.closeUploadInfo=!1:this.closeUploadInfo=!0},closeVideo:function(){this.$emit("changeVideoVisible",!1)},sureVideo:function(){this.$emit("sureVideo",this.uploadVideo),this.uploadVideo="",this.closeVideo()}}},a=(i("40RR"),i("KHd+")),n=Object(a.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{visible:t.centerDialogVideoVisible,width:"65%",center:"","before-close":t.closeVideo},on:{"update:visible":function(e){t.centerDialogVideoVisible=e}}},[i("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"上传视频",name:"first"}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.submit_loading,expression:"submit_loading"}],staticClass:"submit_Img",staticStyle:{"text-align":"center"}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.fun.getRealUrl("upload.uploadPic"),accept:"video/*","show-file-list":!1,"on-success":t.uploadSuccess,"before-upload":t.beforeUpload}},[t.uploadVideo?i("div",{staticClass:"avatar_box"},[i("video",{staticClass:"avatar",attrs:{src:t.uploadVideo,controls:"controls"}})]):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),t._v(" "),i("el-tab-pane",{attrs:{label:"提取网络视频",name:"second"}},[i("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"请输入网络视频地址"},model:{value:t.uploadVideo,callback:function(e){t.uploadVideo=e},expression:"uploadVideo"}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.closeVideo}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.sureVideo}},[t._v("确 定 ")])],1)],1)],1)},[],!1,null,"c144426e",null);n.options.__file="video.vue";e.a=n.exports},FsTy:function(t,e,i){"use strict";var s=i("/NEe");i.n(s).a},G6y4:function(t,e,i){"use strict";var s=i("4AGi");i.n(s).a},GuUx:function(t,e,i){"use strict";var s=i("hiZG");i.n(s).a},"Gx7+":function(t,e,i){"use strict";var s=i("eDEy");i.n(s).a},NUmi:function(t,e,i){"use strict";var s=i("GQeE"),a=i.n(s),n=i("QbLZ"),o=i.n(n),r=i("RCcY"),c=i("L2JU"),l={props:{defaultActive:{type:String,default:"groupChatIndex"}},data:function(){return{router_list:[{category_id:"groupChatIndex",category_title:"群管理",routers:[]},{category_id:"groupChatRecord",category_title:"海报生成记录",routers:[]},{category_id:"groupChatSet",category_title:"基础设置",routers:[]}]}},components:{sideItem:r.a},computed:o()({},Object(c.b)(["permission_routers","userInfo","globalData"])),watch:{permission_routers:function(t,e){this.signRouters(t)}},mounted:function(){this.signRouters()},methods:{signRouters:function(t){var e=[];this.globalData.tab&&(e=this.globalData.tab.filter(function(t){return"groupChat"===t.route}));var i=(t||this.permission_routers).filter(function(t){return"groupChat"===t.name});if(i[0]&&this.router_list.map(function(t){i[0].children.map(function(e){e.class_id==t.category_id&&t.routers.push(e)})}),e[0]){var s={};e[0].child.map(function(t){s[t.route]=t.child.map(function(t){return t.route})}),this.router_list.map(function(t){a()(s).indexOf(t.category_id)<0&&(t.hidden=!0),t.routers.map(function(e){s[t.category_id]&&s[t.category_id].indexOf(e.name)<0&&(e.notShow=!0)})})}}}},d=(i("Beqw"),i("KHd+")),u=Object(d.a)(l,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"second-side-box"},[e("div",{staticStyle:{width:"150px"}}),this._v(" "),e("div",{staticClass:"second-side-box-fixed"},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":this.defaultActive}},this._l(this.router_list,function(t){return e("side-item",{key:t.category_id,attrs:{item:t}})}))],1)])},[],!1,null,"ed49eda4",null);u.options.__file="group_chat_side.vue";e.a=u.exports},NlLX:function(t,e,i){"use strict";var s=i("PPRe");i.n(s).a},PBxU:function(t,e,i){"use strict";var s=i("xqtg");i.n(s).a},PPRe:function(t,e,i){},PdEq:function(t,e,i){"use strict";var s={name:"staff_item",props:["root","paddingLeft","checkboxIds","multiple","checkId"],data:function(){return{}},computed:{computed_checkId:function(){var t="id";return this.checkId&&(t=this.checkId),t}},methods:{choiceDepartment:function(){this.$emit("choiceDepartment",this.root)}}},a=(i("e0BF"),i("KHd+")),n=Object(a.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"staff_item",class:[t.checkboxIds.hasOwnProperty(t.root[t.computed_checkId])?"checkbox":""],style:{paddingLeft:t.paddingLeft+"px"},on:{click:t.choiceDepartment}},[i("i",{staticClass:"iconfont icon-fontclass-daili"}),t._v(" "),i("div",{staticClass:"text"},[t._v(t._s(t.root.name))]),t._v(" "),t.multiple?i("i",{staticClass:"iconfont icon-all_xuanze"}):t._e()])},[],!1,null,"5bae4816",null);n.options.__file="staff_item.vue";e.a=n.exports},ROBl:function(t,e,i){},TXmZ:function(t,e,i){"use strict";var s=i("FyfS"),a=i.n(s),n=i("gDS+"),o=i.n(n),r=i("ErL5"),c=i("Fqtg"),l={components:{uploadImg:r.a,uploadVideo:c.a},props:{textState:{type:String,default:"one"},testSlogan:{type:String,default:"感谢您的关注，我们将竭诚为您服务!"},nicknameList:{type:Array,default:[{name:"客户昵称",value:"{{客户昵称}}"}]},dataShowList:{type:Array,default:function(){return[]}}},data:function(){return{type_choice:[],select_type_id:0,message_type:"",uploadImgType:"",uploadImgIndex:"",uploadShow:!1,chioceList:[],uploadVideoShow:!1,changeVideoVisible:!1,uploadVideoType:"",uploadVideoIndex:"",testLength:"",showText:"",pos:""}},mounted:function(){var t=this;this.chioceList.forEach(function(e){t.type_choice.push({id:e.id,name:e.name})}),this.$route.query.id?this.editDataShow():"one"==this.textState?(this.testLength=document.querySelector("#test").innerText,this.type_choice.push({id:0,name:"文本"})):(this.selectCommand("文本"),this.message_type="文本",this.select_type_id="text0")},watch:{chioceList:{handler:function(t,e){this.$emit("chioceList",this.chioceList)},deep:!0},select_type_id:function(t,e){var i=this;0==e?"one"==this.textState&&(this.testInnerHTML=JSON.parse(o()(document.getElementById("test").innerHTML))):"more"==this.textState&&this.$nextTick(function(){var t=!0,s=!1,n=void 0;try{for(var o,r=a()(i.chioceList);!(t=(o=r.next()).done);t=!0){var c=o.value;c.textList.id===e&&(c.textList.test_innerHTML=c.textList.text?c.textList.text:i.testSlogan,c.textList.text_info=!1)}}catch(t){s=!0,n=t}finally{try{!t&&r.return&&r.return()}finally{if(s)throw n}}}),0==t&&this.$nextTick(function(){"one"==i.textState&&(document.getElementById("test").innerHTML=i.testInnerHTML)})}},methods:{editDataShow:function(){this.showDatafilter(this.dataShowList),this.filterNicename()},filterNicename:function(t){var e=t;if(void 0!=t){var i=!0,s=!1,n=void 0;try{for(var o,r=a()(this.nicknameList);!(i=(o=r.next()).done);i=!0){var c=o.value,l=new RegExp('">'+c.value+"<","g");e=e.replace(l,'">'+c.name+"<")}}catch(t){s=!0,n=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw n}}return e}},showDatafilter:function(t){var e=this,i=!0,s=!1,n=void 0;try{for(var o,r=a()(t);!(i=(o=r.next()).done);i=!0){var c=o.value,l=null;if("one"==this.textState){if("text"==c.type){var d=this.filterNicename(c.news);this.showText=d,this.$emit("news",this.showText)}}else l=this.filterNicename(c.news);this.type_choice.push({id:"more"==this.textState?"text"+this.type_choice.length:"text"==c.type?0:"text"+this.type_choice.length,name:"text"==c.type?"文本":"image"==c.type?"图片":"link"==c.type?"链接":"applet"==c.type?"小程序":"video"==c.type?"视频":"file"==c.type?"文件":""}),this.chioceList.push({id:"text"+(this.type_choice.length-1),name:"text"==c.type?"文本":"image"==c.type?"图片":"link"==c.type?"链接":"applet"==c.type?"小程序":"video"==c.type?"视频":"file"==c.type?"文件":"",textList:{id:"text"+(this.type_choice.length-1),text:"text"==c.type?l:this.testSlogan,test_innerHTML:"text"==c.type?l:this.testSlogan,text_info:!1,test_length:"text"==c.type?l:this.testSlogan},imgList:{link_img:"image"==c.type?c.link_img:"",id:"text"+(this.type_choice.length-1)},linkList:{title:"link"==c.type?c.title:"",link:"link"==c.type?c.link:"",describe:"link"==c.type?c.describe:"",link_img:"link"==c.type?c.link_img:"",id:"text"+(this.type_choice.length-1)},applet:{title:"applet"==c.type?c.title:"",appid:"applet"==c.type?c.appid:"",page:"applet"==c.type?c.page:"",link_img:"applet"==c.type?c.link_img:"",id:"text"+(this.type_choice.length-1)},video:{link_video:"video"==c.type?c.link_video:"",id:"text"+(this.type_choice.length-1)},file:{link_file:"file"==c.type?c.link_file:"",id:"text"+(this.type_choice.length-1)}}),"more"==this.textState&&(this.select_type_id=this.chioceList[0].id,this.message_type=this.chioceList[0].name,this.$nextTick(function(){"文本"==e.chioceList[0].name&&(e.chioceList[0].textList.test_length=document.getElementById("text0").innerText)}))}}catch(t){s=!0,n=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw n}}this.$nextTick(function(){"one"==e.textState&&(e.testLength=e.$refs.test_show.innerText)})},selectCommand:function(t){this.type_choice.length>9||(this.type_choice.push({id:"text"+this.type_choice.length,name:t}),this.chioceList.push({id:"text"+(this.type_choice.length-1),name:t,textList:{id:"text"+(this.type_choice.length-1),text:this.testSlogan,test_innerHTML:"",text_info:!0,test_length:this.testSlogan},imgList:{link_img:"",id:"text"+(this.type_choice.length-1)},linkList:{title:"",link:"",describe:"",link_img:"",id:"text"+(this.type_choice.length-1)},applet:{title:"",appid:"",page:"",link_img:"",id:"text"+(this.type_choice.length-1)},video:{link_video:"",id:"text"+(this.type_choice.length-1)},file:{link_file:"",id:"text"+(this.type_choice.length-1)}}),this.btnSelect("text"+(this.type_choice.length-1),t))},btnSelect:function(t,e,i){var s=this;this.select_type_id=t,this.message_type=e,"more"==this.textState&&"文本"==this.message_type&&this.$nextTick(function(){var t=!0,e=!1,i=void 0;try{for(var n,o=a()(s.chioceList);!(t=(n=o.next()).done);t=!0){var r=n.value;r.textList.id===s.select_type_id&&(r.textList.test_length=document.getElementById(s.select_type_id).innerText)}}catch(t){e=!0,i=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw i}}})},typeChange:function(t){var e=!0,i=!1,s=void 0;try{for(var n,o=a()(this.type_choice);!(e=(n=o.next()).done);e=!0){var r=n.value;r.id==this.select_type_id&&(r.name=t)}}catch(t){i=!0,s=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw s}}var c=!0,l=!1,d=void 0;try{for(var u,h=a()(this.chioceList);!(c=(u=h.next()).done);c=!0){var p=u.value;p.id==this.select_type_id&&(p.name=t,this.switchNull(p))}}catch(t){l=!0,d=t}finally{try{!c&&h.return&&h.return()}finally{if(l)throw d}}},switchNull:function(t){t.imgList.link_img="",t.linkList.title="",t.linkList.link="",t.linkList.describe="",t.linkList.link_img="",t.applet.title="",t.applet.page="",t.applet.link_img="",t.applet.appid="",t.video.link_video="",t.file.link_file="",t.textList.test_innerHTML=this.testSlogan,t.textList.test_length=this.testSlogan,t.textList.text=this.testSlogan},delItemCard:function(t,e){var i=this,s=void 0;this.type_choice.forEach(function(t,e){t.id==i.select_type_id&&(s=e)}),this.chioceList.splice(e,1),this.type_choice.splice(s,1),this.select_type_id="one"==this.textState?0:"text0"},openUpload:function(t,e){this.uploadImgType=t,this.uploadImgIndex=e,this.uploadShow=!0},sureImg:function(t){switch(this.uploadImgType){case"img":this.chioceList[this.uploadImgIndex].imgList.link_img=t;break;case"link":this.chioceList[this.uploadImgIndex].linkList.link_img=t;break;case"applet":this.chioceList[this.uploadImgIndex].applet.link_img=t}},openUploadVideo:function(t,e){this.uploadVideoType=t,this.uploadVideoIndex=e,this.uploadVideoShow=!0},sureVideo:function(t){this.chioceList[this.uploadVideoIndex].video.link_video=t},uploadSuccess:function(t,e,i,s){1===t.result?(this.chioceList[s].file.link_file=t.data.img_url,this.$message.success("上传成功！")):this.$message.error(t.msg)},beforeUpload:function(t,e){},getPos:function(){this.pos=window.getSelection().getRangeAt(0)},addCustomerNickname:function(t){var e=this,i=document.createElement("span");if(i.innerHTML=t,i.style.color="#29ba9c",i.style.margin="0 5px",i.setAttribute("contenteditable","false"),"more"==this.textState?this.$nextTick(function(){switch(e.select_type_id){case"text"+e.chioceList.length:("text"+e.chioceList.length).appendChild(i)}}):test.appendChild(i),""===this.pos){"one"==this.textState&&(this.select_type_id="test");var s=document.getElementById(String(this.select_type_id));s.focus();var a=window.getSelection();a.selectAllChildren(s),a.collapseToEnd(),this.pos=window.getSelection().getRangeAt(0)}this.pos.insertNode(i),this.blurChangeText()},blurChangeText:function(t){var e=this,i=void 0;i="more"==this.textState?document.getElementById(String(this.select_type_id)).innerHTML:document.getElementById("test").innerHTML,this.testInnerHTML=i,this.$emit("news",i),"more"==this.textState?this.testLength=document.getElementById(String(this.select_type_id)).innerText:this.testLength=document.getElementById("test").innerText,"more"==this.textState&&this.$nextTick(function(){var t=!0,i=!1,s=void 0;try{for(var n,o=a()(e.chioceList);!(t=(n=o.next()).done);t=!0){var r=n.value;r.textList.id===e.select_type_id&&(r.textList.text=document.getElementById(e.select_type_id).innerHTML,r.textList.test_length=document.getElementById(e.select_type_id).innerText)}}catch(t){i=!0,s=t}finally{try{!t&&o.return&&o.return()}finally{if(i)throw s}}})}}},d=(i("otdw"),i("KHd+")),u=Object(d.a)(l,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"welcome_card"}},[i("el-row",{staticClass:"card_detail"},[i("el-col",{attrs:{span:2}},[t._l(t.type_choice,function(e,s){return i("div",{key:s,staticClass:"choice_card",class:[t.select_type_id==e.id?"choice_card_active":"choice_card"],on:{click:function(i){t.btnSelect(e.id,e.name,s)}}},[t._v(t._s(e.name))])}),t._v(" "),this.type_choice.length>9?t._e():i("el-dropdown",{attrs:{trigger:"hover"},on:{command:t.selectCommand}},[i("div",{staticClass:"choice_add_card"},[i("i",{staticClass:"el-icon-plus"}),t._v("新建")]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},["more"==t.textState?i("el-dropdown-item",{attrs:{command:"文本"}},[t._v("文本")]):t._e(),t._v(" "),i("el-dropdown-item",{attrs:{command:"图片"}},[t._v("图片")]),t._v(" "),i("el-dropdown-item",{attrs:{command:"链接"}},[t._v("链接")]),t._v(" "),i("el-dropdown-item",{attrs:{command:"小程序"}},[t._v("小程序")]),t._v(" "),i("el-dropdown-item",{attrs:{command:"视频"}},[t._v("视频")]),t._v(" "),i("el-dropdown-item",{attrs:{command:"文件"}},[t._v("文件")])],1)],1)],2),t._v(" "),i("el-col",{staticStyle:{"border-bottom":"1px solid #d9d9d9","border-top":"1px solid #d9d9d9"},attrs:{span:22}},[0==t.select_type_id&&"one"==t.textState?i("div",[i("el-form",{staticClass:"text-form-inline",attrs:{"label-width":"140px"}},[i("el-form-item",{attrs:{label:"文本消息:"}},[i("div",{staticClass:"text_message"},[t.$route.query.id?t._e():i("div",{staticStyle:{"padding-left":"10px"},attrs:{id:"test",contenteditable:"true",spellcheck:"true","data-medium-editor-element":"true",role:"textbox","aria-multiline":"true"},on:{keyup:t.blurChangeText,blur:t.getPos}},[t._v(t._s(t.testSlogan))]),t._v(" "),t.$route.query.id?i("div",{ref:"test_show",staticStyle:{"padding-left":"10px"},attrs:{id:"test",contenteditable:"true",spellcheck:"true","data-medium-editor-element":"true",role:"textbox","aria-multiline":"true"},domProps:{innerHTML:t._s(t.showText)},on:{keyup:t.blurChangeText,blur:t.getPos}}):t._e(),t._v(" "),i("div",{staticClass:"chat-opt-header-item"},[i("div",{staticStyle:{display:"flex"}},t._l(t.nicknameList,function(e,s){return i("span",{key:s,staticClass:"item_card customer_item_card",attrs:{slot:"reference"},on:{click:function(i){t.addCustomerNickname(e.name,"")}},slot:"reference"},[t._v(t._s(e.name))])})),t._v(" "),i("span",{staticStyle:{position:"absolute",bottom:"45px",left:"68%","font-size":"14px",color:"#5c5c5c"}},[t._v(t._s(t.testLength.length)+"/1000")])])])])],1)],1):t._e(),t._v(" "),0!==t.select_type_id?i("div",[i("el-form",{staticClass:"text-form-inline",attrs:{"label-width":"140px"}},[i("el-form-item",{attrs:{label:"消息类型:"}},[i("el-radio-group",{on:{change:t.typeChange},model:{value:t.message_type,callback:function(e){t.message_type=e},expression:"message_type"}},["more"==t.textState?i("el-radio",{attrs:{label:"文本"}},[t._v("文本")]):t._e(),t._v(" "),i("el-radio",{attrs:{label:"图片"}},[t._v("图片")]),t._v(" "),i("el-radio",{attrs:{label:"链接"}},[t._v("链接")]),t._v(" "),i("el-radio",{attrs:{label:"小程序"}},[t._v("小程序")]),t._v(" "),i("el-radio",{attrs:{label:"视频"}},[t._v("视频")]),t._v(" "),i("el-radio",{attrs:{label:"文件"}},[t._v("文件")])],1)],1),t._v(" "),t._l(t.chioceList,function(e,s){return"文本"==t.message_type&&e.textList.id==t.select_type_id&&"more"==t.textState?i("div",{key:s},[i("el-form-item",{attrs:{label:"文本消息:"}},[i("div",{staticClass:"text_message"},[e.textList.text_info?i("div",{staticClass:"text-more",staticStyle:{"padding-left":"10px"},attrs:{id:t.select_type_id,contenteditable:"true",spellcheck:"true","data-medium-editor-element":"true",role:"textbox","aria-multiline":"true"},on:{keyup:t.blurChangeText,blur:t.getPos}},[t._v(t._s(t.testSlogan))]):t._e(),t._v(" "),e.textList.text_info?t._e():i("div",{staticClass:"text-more",staticStyle:{"padding-left":"10px"},attrs:{id:t.select_type_id,contenteditable:"true",spellcheck:"true","data-medium-editor-element":"true",role:"textbox","aria-multiline":"true"},domProps:{innerHTML:t._s(e.textList.test_innerHTML)},on:{keyup:t.blurChangeText,blur:t.getPos}}),t._v(" "),i("div",{staticClass:"chat-opt-header-item"},[i("div",{staticStyle:{display:"flex"}},t._l(t.nicknameList,function(e,s){return i("span",{key:s,staticClass:"item_card customer_item_card",attrs:{slot:"reference"},on:{click:function(i){t.addCustomerNickname(e.name,s)}},slot:"reference"},[t._v(t._s(e.name))])})),t._v(" "),i("span",{staticStyle:{position:"absolute",bottom:"45px",left:"68%","font-size":"14px",color:"#5c5c5c"}},[t._v(t._s(e.textList.test_length.length)+"/1000")])])])]),t._v(" "),i("el-form-item",{attrs:{label:" "}},[0!==s?i("span",{staticClass:"item_card",on:{click:function(e){t.delItemCard("text",s)}}},[t._v("删除该条")]):t._e()])],1):t._e()}),t._v(" "),t._l(t.chioceList,function(e,s){return"图片"==t.message_type&&e.imgList.id==t.select_type_id?i("div",{key:s},[i("el-form-item",{attrs:{label:"上传图片:"}},[i("div",{staticClass:"upload-box",on:{click:function(e){t.openUpload("img",s)}}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"32px"}})]),t._v(" "),e.imgList.link_img?i("div",{staticClass:"upload-boxed",on:{click:function(e){t.openUpload("img",s)}}},[i("img",{staticStyle:{width:"150px",height:"150px","border-radius":"5px",cursor:"pointer","margin-top":"10px"},attrs:{src:e.imgList.link_img,alt:""}}),t._v(" "),i("div",{staticClass:"upload-boxed-text"},[t._v("点击重新上传")])]):t._e()]),t._v(" "),i("el-form-item",{attrs:{label:" "}},[i("span",{staticClass:"item_card",on:{click:function(e){t.delItemCard("img",s)}}},[t._v("删除该条")])])],1):t._e()}),t._v(" "),t._l(t.chioceList,function(e,s){return"链接"==t.message_type&&e.linkList.id==t.select_type_id?i("div",{key:s,staticClass:"link_card"},[i("el-form-item",{attrs:{label:"链接标题:",required:""}},[i("div",{staticClass:"more_words"},[i("el-input",{attrs:{placeholder:"请输入链接标题,最多64个字",maxlength:64},model:{value:e.linkList.title,callback:function(i){t.$set(e.linkList,"title",i)},expression:"item.linkList.title"}}),t._v(" "),i("span",[t._v(t._s(e.linkList.title.length)+"/64")])],1)]),t._v(" "),i("el-form-item",{attrs:{label:"链接地址:",required:""}},[i("div",{staticClass:"more_words"},[i("el-input",{attrs:{placeholder:"请以https://开头"},model:{value:e.linkList.link,callback:function(i){t.$set(e.linkList,"link",i)},expression:"item.linkList.link"}})],1)]),t._v(" "),i("el-form-item",{attrs:{label:"链接描述:"}},[i("div",{staticClass:"more_words"},[i("el-input",{attrs:{placeholder:"请输入链接描述,最多256个字",maxlength:256},model:{value:e.linkList.describe,callback:function(i){t.$set(e.linkList,"describe",i)},expression:"item.linkList.describe"}}),t._v(" "),i("span",[t._v(t._s(e.linkList.describe.length)+"/256")])],1)]),t._v(" "),i("el-form-item",{attrs:{label:"链接封面:"}},[i("div",{staticClass:"upload-box",on:{click:function(e){t.openUpload("link",s)}}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"32px"}})]),t._v(" "),e.linkList.link_img?i("div",{staticClass:"upload-boxed",on:{click:function(e){t.openUpload("link",s)}}},[i("img",{staticStyle:{width:"150px",height:"150px","border-radius":"5px",cursor:"pointer","object-fit":"contain"},attrs:{src:e.linkList.link_img,alt:""}}),t._v(" "),i("div",{staticClass:"upload-boxed-text"},[t._v("点击重新上传")])]):t._e()]),t._v(" "),i("el-form-item",{attrs:{label:" "}},[i("span",{staticClass:"item_card",on:{click:function(e){t.delItemCard("link",s)}}},[t._v("删除该条")])])],1):t._e()}),t._v(" "),t._l(t.chioceList,function(e,s){return"小程序"==t.message_type&&e.applet.id==t.select_type_id?i("div",{key:s,staticClass:"link_card"},[i("el-form-item",{attrs:{label:"小程序标题:",required:""}},[i("div",{staticClass:"more_words"},[i("el-input",{attrs:{placeholder:"请输入小程序标题,最多32个字",maxlength:32},model:{value:e.applet.title,callback:function(i){t.$set(e.applet,"title",i)},expression:"item.applet.title"}}),t._v(" "),i("span",[t._v(t._s(e.applet.title.length)+"/32")])],1)]),t._v(" "),i("el-form-item",{attrs:{label:"小程序appid:",required:""}},[i("div",{staticClass:"more_words"},[i("el-input",{attrs:{placeholder:"必须是关联到企业的小程序应用"},model:{value:e.applet.appid,callback:function(i){t.$set(e.applet,"appid",i)},expression:"item.applet.appid"}}),t._v(" "),i("span")],1)]),t._v(" "),i("el-form-item",{attrs:{label:"小程序page路径:",required:""}},[i("div",{staticClass:"more_words"},[i("el-input",{attrs:{placeholder:"请输入小程序路径",maxlength:256},model:{value:e.applet.page,callback:function(i){t.$set(e.applet,"page",i)},expression:"item.applet.page"}}),t._v(" "),i("span",[t._v(t._s(e.applet.page.length)+"/256")])],1)]),t._v(" "),i("el-form-item",{attrs:{label:"小程序封面:",required:""}},[i("div",{staticStyle:{display:"flex"}},[i("div",{staticClass:"upload-box",on:{click:function(e){t.openUpload("applet",s)}}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"32px"}})]),t._v(" "),e.applet.link_img?t._e():i("div",{staticClass:"tip",staticStyle:{display:"flex","align-items":"flex-end","margin-left":"5px","flex-shrink":"0"}},[t._v("建议尺寸为520*416")])]),t._v(" "),e.applet.link_img?i("div",{staticClass:"upload-boxed",on:{click:function(e){t.openUpload("applet",s)}}},[i("div",{staticStyle:{display:"flex"}},[i("img",{staticStyle:{width:"150px",height:"150px","border-radius":"5px",cursor:"pointer","margin-top":"10px"},attrs:{src:e.applet.link_img,alt:""}}),t._v(" "),i("div",{staticClass:"tip",staticStyle:{display:"flex","align-items":"flex-end","margin-left":"5px","flex-shrink":"0"}},[t._v("建议尺寸为520*416")])]),t._v(" "),i("div",{staticClass:"upload-boxed-text"},[t._v("点击重新上传")])]):t._e()]),t._v(" "),i("el-form-item",{attrs:{label:" "}},[i("span",{staticClass:"item_card",on:{click:function(e){t.delItemCard("applet",s)}}},[t._v("删除该条")])])],1):t._e()}),t._v(" "),t._l(t.chioceList,function(e,s){return"视频"==t.message_type&&e.video.id==t.select_type_id?i("div",{key:s,staticClass:"link_card"},[i("el-form-item",{attrs:{label:"上传视频:",required:""}},[i("div",{staticClass:"upload-box",on:{click:function(e){t.openUploadVideo("applet",s)}}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"32px"}})]),t._v(" "),e.video.link_video?i("div",{staticClass:"upload-boxed"},[i("video",{attrs:{src:e.video.link_video,alt:"",controls:"controls"}}),t._v(" "),i("div",{staticClass:"upload-boxed-text",on:{click:function(e){t.openUploadVideo("applet",s)}}},[t._v("点击重新上传")])]):t._e()]),t._v(" "),i("el-form-item",{attrs:{label:" "}},[i("span",{staticClass:"item_card",on:{click:function(e){t.delItemCard("video",s)}}},[t._v("删除该条")])])],1):t._e()}),t._v(" "),t._l(t.chioceList,function(e,s){return"文件"==t.message_type&&e.file.id==t.select_type_id?i("div",{key:s,staticClass:"link_card"},[i("el-form-item",{attrs:{label:"上传文件:",required:""}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.fun.getRealUrl("upload.uploadPic&upload_type=file"),accept:".pdf, .doc, .docx, .xls, .xlsx","show-file-list":!1,"on-success":function(e,i,a){return t.uploadSuccess(e,i,a,s)},"before-upload":t.beforeUpload}},[e.file.link_file?t._e():i("div",{staticClass:"upload-box"},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"32px"}})]),t._v(" "),e.file.link_file?i("div",[i("div",{staticClass:"check_card"},[i("i",{staticClass:"el-icon-circle-check"}),t._v("已选择1个文件 "),i("span",[t._v("[修改]")])])]):t._e()])],1),t._v(" "),i("el-form-item",{attrs:{label:" "}},[i("span",{staticClass:"item_card",on:{click:function(e){t.delItemCard("file",s)}}},[t._v("删除该条")])])],1):t._e()})],2)],1):t._e()])],1),t._v(" "),i("upload-img",{attrs:{centerDialogVisible:t.uploadShow},on:{changeVisible:function(e){t.uploadShow=!1},sureImg:t.sureImg}}),t._v(" "),i("upload-video",{attrs:{centerDialogVideoVisible:t.uploadVideoShow},on:{changeVideoVisible:function(e){t.uploadVideoShow=!1},sureVideo:t.sureVideo}})],1)},[],!1,null,"5c533431",null);u.options.__file="content_options_card.vue";var h=u.exports,p=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{staticStyle:{width:"100%","padding-bottom":"40px"},attrs:{src:i("bZdz"),alt:""}})])}],m=i("YEIV"),_={data:function(){return{news:""}},props:i.n(m)()({textState:{type:String,default:"one"},gnChioceLists:{type:Array,default:function(){return[]}},avatar:{type:String,default:""},testSlogan:{type:String,default:""},texts:{type:String,default:""}},"avatar",{type:String,default:""}),watch:{gnChioceLists:{handler:function(t,e){this.updateGnChioceLists()},deep:!0},texts:function(t,e){var i=t.replace(/\">{{客户昵称}}</g,'">客户昵称<');this.news=i,this.updateGnChioceLists()}},mounted:function(){this.news=this.testSlogan},methods:{updateGnChioceLists:function(t){var e=!0,i=!1,s=void 0;try{for(var n,o=a()(this.gnChioceLists);!(e=(n=o.next()).done);e=!0){var r=n.value;"文本"==r.name&&(r.texts=this.news)}}catch(t){i=!0,s=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw s}}}},components:{}},f=(i("cvUb"),Object(d.a)(_,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),t._v(" "),"one"==t.textState?i("div",{staticClass:"show_item"},[i("div",{staticClass:"show_img"},[t.avatar?i("img",{attrs:{src:t.avatar,alt:""}}):t._e()]),t._v(" "),i("div",{staticClass:"show_content"},[t.avatar?i("div",{staticClass:"triangle"}):t._e(),t._v(" "),i("div",{staticClass:"test_msg"},[i("div",{staticClass:"link_list",staticStyle:{padding:"10px","line-height":"30px"}},[i("div",{staticStyle:{padding:"0px"},domProps:{innerHTML:t._s(t.news)}})])])])]):t._e(),t._v(" "),t._l(t.gnChioceLists,function(e,s){return i("div",{key:s},["文本"==e.name&&"more"==t.textState&&e.textList.text?i("div",{staticClass:"show_item"},[i("div",{staticClass:"show_img"},[t.avatar?i("img",{attrs:{src:t.avatar,alt:""}}):t._e()]),t._v(" "),i("div",{staticClass:"show_content"},[t.avatar?i("div",{staticClass:"triangle"}):t._e(),t._v(" "),i("div",{staticClass:"test_msg"},[i("div",{staticClass:"link_list",staticStyle:{padding:"10px","line-height":"30px"}},[i("div",{staticStyle:{padding:"0px"},domProps:{innerHTML:t._s(e.textList.text)}})])])])]):t._e(),t._v(" "),"图片"==e.name&&e.imgList.link_img?i("div",{staticClass:"show_item"},[i("div",{staticClass:"show_img"},[t.avatar?i("img",{attrs:{src:t.avatar,alt:""}}):t._e()]),t._v(" "),i("div",{staticStyle:{width:"calc(100% - 40px)"}},[i("div",{}),t._v(" "),i("div",{},[i("img",{staticStyle:{width:"190px","object-fit":"cover","margin-left":"10px"},attrs:{src:e.imgList.link_img,alt:""}})])])]):t._e(),t._v(" "),"链接"==e.name&&(e.linkList.title||e.linkList.link||e.linkList.describe)?i("div",{staticClass:"show_item"},[i("div",{staticClass:"show_img"},[t.avatar?i("img",{attrs:{src:t.avatar,alt:""}}):t._e()]),t._v(" "),i("div",{staticClass:"type_show_content",staticStyle:{width:"calc(100% - 40px)"}},[t.avatar?i("div",{staticClass:"tyep_triangle"}):t._e(),t._v(" "),i("div",{staticClass:"test_msg"},["链接"==e.name?i("div",{staticClass:"link_list"},[i("div",[t._v(t._s(e.linkList.title))]),t._v(" "),i("div",[t._v(t._s(e.linkList.link))]),t._v(" "),i("div",[t._v(t._s(e.linkList.describe))]),t._v(" "),e.linkList.link_img?i("img",{attrs:{src:e.linkList.link_img,alt:""}}):t._e()]):t._e()])])]):t._e(),t._v(" "),"小程序"==e.name&&(e.applet.title||e.applet.appid||e.applet.page)?i("div",{staticClass:"show_item"},[i("div",{staticClass:"show_img"},[t.avatar?i("img",{attrs:{src:t.avatar,alt:""}}):t._e()]),t._v(" "),i("div",{staticClass:"type_show_content",staticStyle:{width:"calc(100% - 40px)"}},[t.avatar?i("div",{staticClass:"tyep_triangle"}):t._e(),t._v(" "),i("div",{staticClass:"test_msg"},[i("div",{staticClass:"link_list"},[i("div",[t._v(t._s(e.applet.title))]),t._v(" "),e.applet.link_img?i("img",{attrs:{src:e.applet.link_img,alt:""}}):t._e()])])])]):t._e(),t._v(" "),"视频"==e.name&&e.video.link_video?i("div",{staticClass:"show_item"},[i("div",{staticClass:"show_img"},[t.avatar?i("img",{attrs:{src:t.avatar,alt:""}}):t._e()]),t._v(" "),i("div",{staticClass:"type_show_content"},[i("div",{}),t._v(" "),i("div",{},["视频"==e.name&&e.video.link_video?i("video",{staticStyle:{width:"100%"},attrs:{src:e.video.link_video,alt:"",controls:"controls"}}):t._e()])])]):t._e(),t._v(" "),"文件"==e.name&&e.file.link_file?i("div",{staticClass:"show_item"},[i("div",{staticClass:"show_img"},[t.avatar?i("img",{attrs:{src:t.avatar,alt:""}}):t._e()]),t._v(" "),i("div",{staticClass:"type_show_content"},[t.avatar?i("div",{staticClass:"tyep_triangle"}):t._e(),t._v(" "),i("div",{staticClass:"test_msg "},[i("div",{staticClass:"link_list check_card"},[i("a",[t._v(t._s(e.file.link_file))])])])])]):t._e()])})],2)},p,!1,null,"1b621a72",null));f.options.__file="content_show_card.vue";var v={components:{content_options_card:h,content_show_card:f.exports},props:{textState:{type:String,default:"one"},testSlogan:{type:String,default:"感谢您的关注，我们将竭诚为您服务!"},nicknameList:{type:Array,default:function(){return[{name:"客户昵称",value:"{{客户昵称}}"}]}},dataShowList:{type:Array,default:function(){return[]}},styleContext:{type:Object,default:function(){return{position:"absolute",right:0,top:"-120px",height:"622px"}}},avatar:{type:String,default:""}},data:function(){return{gnChioceLists:[],submitData:[],texts:"",show:!1}},mounted:function(){this.$route.query.id?this.show=!0:(this.show=!0,this.texts=this.testSlogan,"one"==this.textState&&(this.submitData.push({name:"文本",texts:this.testSlogan}),this.submitData=this.filterChioceListData(this.submitData)))},computed:{showStyle:function(){return this.styleContext}},methods:{chioceList:function(t){this.gnChioceLists=t,this.filterTextsData()},news:function(t){this.texts=t,this.filterTextsData()},filterTextsData:function(){var t=!0,e=!1,i=void 0;try{for(var s,n=a()(this.gnChioceLists);!(t=(s=n.next()).done);t=!0){var r=s.value;"文本"==r.name&&(r.texts=this.texts)}}catch(t){e=!0,i=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw i}}(this.submitData=JSON.parse(o()(this.gnChioceLists)),"one"==this.textState)&&(0===this.submitData.filter(function(t){return"文本"==t.name}).length&&this.submitData.unshift({name:"文本",texts:this.texts}));this.submitData=this.filterChioceListData(this.submitData)},filterNicename:function(t){var e=t;if(void 0!=t){var i=!0,s=!1,n=void 0;try{for(var o,r=a()(this.nicknameList);!(i=(o=r.next()).done);i=!0){var c=o.value,l=new RegExp('">'+c.value+"<","g");e=e.replace(l,'">'+c.name+"<")}}catch(t){s=!0,n=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw n}}return e}},filterChioceListData:function(t){var e=[],i=!0,s=!1,n=void 0;try{for(var o,r=a()(t);!(i=(o=r.next()).done);i=!0){var c=o.value;switch(c.name){case"文本":e.push({type:"text",news:"one"==this.textState?this.filterNicename(c.texts):void 0!==c.textList?this.filterNicename(c.textList.text):""});break;case"图片":e.push({type:"image",link_img:c.imgList.link_img});break;case"链接":e.push({type:"link",title:c.linkList.title,link:c.linkList.link,describe:c.linkList.describe,link_img:c.linkList.link_img});break;case"小程序":e.push({type:"applet",title:c.applet.title,appid:c.applet.appid,page:c.applet.page,link_img:c.applet.link_img});break;case"视频":e.push({type:"video",link_video:c.video.link_video});break;case"文件":e.push({type:"file",link_file:c.file.link_file})}}}catch(t){s=!0,n=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw n}}return e}}},g=(i("GuUx"),Object(d.a)(v,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"content-card"}},[i("el-row",[i("el-col",{attrs:{span:18}},[t.show?i("content_options_card",{ref:"content_options_card",attrs:{textState:t.textState,testSlogan:t.testSlogan,nicknameList:t.nicknameList,dataShowList:t.dataShowList},on:{news:t.news,chioceList:t.chioceList}}):t._e()],1),t._v(" "),i("el-col",{staticClass:"content-show-box",style:t.showStyle,attrs:{span:6}},[i("content_show_card",{staticClass:"content-show-card",attrs:{textState:t.textState,avatar:t.avatar,testSlogan:t.testSlogan,texts:t.texts,gnChioceLists:t.gnChioceLists}})],1)],1)],1)},[],!1,null,"ef7742aa",null));g.options.__file="content_card.vue";e.a=g.exports},WbTP:function(t,e,i){},aS6R:function(t,e,i){"use strict";var s=i("GQeE"),a=i.n(s),n=i("QbLZ"),o=i.n(n),r=i("RCcY"),c=i("L2JU"),l={props:{defaultActive:{type:String,default:"friendFusionStatistics"}},data:function(){return{router_list:[{category_id:"friendFusionStatistics",category_title:"统计概况",routers:[]},{category_id:"friendFusionActivity",category_title:"活动管理",routers:[]},{category_id:"friendFusionPoster",category_title:"海报生成记录",routers:[]},{category_id:"friendFusionMember",category_title:"会员参与记录",routers:[]},{category_id:"friendFusionReward",category_title:"奖励记录",routers:[]}]}},components:{sideItem:r.a},computed:o()({},Object(c.b)(["permission_routers","userInfo","globalData"])),watch:{permission_routers:function(t,e){this.signRouters(t)}},mounted:function(){this.signRouters()},methods:{signRouters:function(t){var e=[];this.globalData.tab&&(e=this.globalData.tab.filter(function(t){return"friendFusion"===t.route}));var i=(t||this.permission_routers).filter(function(t){return"friendFusion"===t.name});if(i[0]&&this.router_list.map(function(t){i[0].children.map(function(e){e.class_id==t.category_id&&t.routers.push(e)})}),e[0]){var s={};e[0].child.map(function(t){s[t.route]=t.child.map(function(t){return t.route})}),this.router_list.map(function(t){a()(s).indexOf(t.category_id)<0&&(t.hidden=!0),t.routers.map(function(e){s[t.category_id]&&s[t.category_id].indexOf(e.name)<0&&(e.notShow=!0)})})}}}},d=(i("cdh+"),i("KHd+")),u=Object(d.a)(l,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"second-side-box"},[e("div",{staticStyle:{width:"150px"}}),this._v(" "),e("div",{staticClass:"second-side-box-fixed"},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":this.defaultActive}},this._l(this.router_list,function(t){return e("side-item",{key:t.category_id,attrs:{item:t}})}))],1)])},[],!1,null,"daa392b4",null);u.options.__file="friend_fusion_side.vue";e.a=u.exports},"cdh+":function(t,e,i){"use strict";var s=i("56fG");i.n(s).a},cvUb:function(t,e,i){"use strict";var s=i("032W");i.n(s).a},"dE/r":function(t,e,i){"use strict";var s=i("QbLZ"),a=i.n(s),n=i("RCcY"),o=i("L2JU"),r={props:{defaultActive:{type:String,default:"1"}},data:function(){return{router_list:[{category_id:"1",category_title:"企业微信客户标签",routers:[]},{category_id:"2",category_title:"标签管理",routers:[]},{category_id:"3",category_title:"标签组管理",routers:[]}]}},components:{sideItem:n.a},computed:a()({},Object(o.b)(["permission_routers","userInfo"]),{allChecked:function(){return this.todos.every(function(t){return t.done})}}),watch:{permission_routers:function(t,e){this.signRouters(t)}},mounted:function(){this.signRouters()},methods:{signRouters:function(t){var e=(t||this.permission_routers).filter(function(t){return"wechatCustomersLabel"===t.name});e[0]&&this.router_list.map(function(t){e[0].children.map(function(e){e.class_id==t.category_id&&t.routers.push(e)})})}}},c=(i("AKfa"),i("KHd+")),l=Object(c.a)(r,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"second-side-box"},[e("div",{staticStyle:{width:"150px"}}),this._v(" "),e("div",{staticClass:"second-side-box-fixed"},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":this.defaultActive}},this._l(this.router_list,function(t){return e("side-item",{key:t.category_id,attrs:{item:t}})}))],1)])},[],!1,null,"04fceb6c",null);l.options.__file="wechat_customers_label_side.vue";e.a=l.exports},dH0X:function(t,e,i){},e0BF:function(t,e,i){"use strict";var s=i("dH0X");i.n(s).a},eDEy:function(t,e,i){},fb88:function(t,e,i){"use strict";var s=i("GQeE"),a=i.n(s),n=i("QbLZ"),o=i.n(n),r=i("RCcY"),c=i("L2JU"),l={props:{defaultActive:{type:String,default:"memberSop"}},data:function(){return{router_list:[{category_id:"memberSop",category_title:"会员sop",routers:[]},{category_id:"newsSop",category_title:"消息sop",routers:[]},{category_id:"newsSopSet",category_title:"基础设置",routers:[]}]}},components:{sideItem:r.a},computed:o()({},Object(c.b)(["permission_routers","userInfo","globalData"])),watch:{permission_routers:function(t,e){this.signRouters(t)}},mounted:function(){this.signRouters()},methods:{signRouters:function(t){var e=[];this.globalData.tab&&(e=this.globalData.tab.filter(function(t){return"sopManage"===t.route}));var i=(t||this.permission_routers).filter(function(t){return"sopManage"===t.name});if(i[0]&&this.router_list.map(function(t){i[0].children.map(function(e){e.class_id==t.category_id&&t.routers.push(e)})}),e[0]){var s={};e[0].child.map(function(t){s[t.route]=t.child.map(function(t){return t.route})}),this.router_list.map(function(t){a()(s).indexOf(t.category_id)<0&&(t.hidden=!0),t.routers.map(function(e){s[t.category_id]&&s[t.category_id].indexOf(e.name)<0&&(e.notShow=!0)})})}}}},d=(i("PBxU"),i("KHd+")),u=Object(d.a)(l,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"second-side-box"},[e("div",{staticStyle:{width:"150px"}}),this._v(" "),e("div",{staticClass:"second-side-box-fixed"},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":this.defaultActive}},this._l(this.router_list,function(t){return e("side-item",{key:t.category_id,attrs:{item:t}})}))],1)])},[],!1,null,"794365dd",null);u.options.__file="sop_manage_side.vue";e.a=u.exports},glbJ:function(t,e,i){"use strict";var s=i("4d7F"),a=i.n(s),n=i("GQeE"),o=i.n(n),r=i("ErL5"),c={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},components:{uploadImg:r.a},data:function(){return{dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var t=this;return o()(this.listObj).every(function(e){return t.listObj[e].hasSuccess})},handleSubmit:function(){var t=this,e=o()(this.listObj).map(function(e){return t.listObj[e]});this.checkAllSuccess()?(this.$emit("successCBK",e),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！")},handleSuccess:function(t,e){for(var i=e.uid,s=o()(this.listObj),a=0,n=s.length;a<n;a++)if(this.listObj[s[a]].uid===i)return this.listObj[s[a]].url=t.data.img_url,void(this.listObj[s[a]].hasSuccess=!0)},handleRemove:function(t){for(var e=t.uid,i=o()(this.listObj),s=0,a=i.length;s<a;s++)if(this.listObj[i[s]].uid===e)return void delete this.listObj[i[s]]},beforeUpload:function(t){var e=this,i=window.URL||window.webkitURL,s=t.uid;return this.listObj[s]={},new a.a(function(a,n){var o=new Image;o.src=i.createObjectURL(t),o.onload=function(){e.listObj[s]={hasSuccess:!1,uid:t.uid,width:this.width,height:this.height}},a(!0)})}}},l=(i("s7cF"),i("KHd+")),d=Object(l.a)(c,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-container"},[i("el-button",{style:{background:t.color,borderColor:t.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(e){e.stopPropagation(),t.dialogVisible=!0}}},[t._v("上传图片\n  ")]),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogVisible,modal:!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":t.fileList,"show-file-list":!0,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"before-upload":t.beforeUpload,action:t.fun.getRealUrl("upload.uploadPic"),accept:"image/*","list-type":"picture-card"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1),t._v(" "),i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.handleSubmit(e)}}},[t._v("确 定")])],1)],1)},[],!1,null,"1541e7b8",null);d.options.__file="editorImage.vue";var u=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],h=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],p={name:"Tinymce",components:{editorImage:d.exports},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN"}}},computed:{language:function(){return"zh_CN"}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(e.tinymceId).setContent(t||"")})}},mounted:function(){var t=this;this.$nextTick(function(){t.initTinymce()})},activated:function(){this.initTinymce()},deactivated:function(){},destroyed:function(){},methods:{initTinymce:function(){var t=this,e=this;document.getElementById(""+this.tinymceId)&&window.tinymce.init({language:this.language,selector:"#"+this.tinymceId,height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:h,menubar:this.menubar,plugins:u,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(i){e.value&&i.setContent(e.value),e.hasInit=!0,i.on("NodeChange Change KeyUp SetContent",function(){t.hasChange=!0,t.$emit("input",i.getContent())})},setup:function(t){t.on("FullscreenStateChanged",function(t){e.fullscreen=t.state})}})},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand("mceFullScreen"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach(function(t){window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'+t.url+'" >')})}}},m=(i("imaV"),Object(l.a)(p,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:this.fullscreen}},[e("textarea",{staticClass:"tinymce-textarea",attrs:{id:this.tinymceId}}),this._v(" "),e("div",{staticClass:"editor-custom-btn-container"},[e("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#29ba9c"},on:{successCBK:this.imageSuccessCBK}})],1)])},[],!1,null,"244a5a72",null));m.options.__file="index.vue";e.a=m.exports},h548:function(t,e,i){},hiZG:function(t,e,i){},imaV:function(t,e,i){"use strict";var s=i("Dc8U");i.n(s).a},otdw:function(t,e,i){"use strict";var s=i("zLbp");i.n(s).a},qLsU:function(t,e,i){"use strict";var s=i("6AmQ");i.n(s).a},"s/9I":function(t,e,i){},s7cF:function(t,e,i){"use strict";var s=i("AA3k");i.n(s).a},uBcZ:function(t,e,i){"use strict";var s=i("CL4z");i.n(s).a},x8Yw:function(t,e,i){"use strict";var s=i("FyfS"),a=i.n(s),n=i("gDS+"),o=i.n(n),r=i("14Xm"),c=i.n(r),l=i("D3Ub"),d=i.n(l),u=i("P2sY"),h=i.n(u),p=i("PdEq"),m={components:{staff_item:p.a},name:"department_staff_item",props:{root:{type:Object,default:{}},paddingLeft:{type:Number,default:12},checkboxIds:{type:Object,default:{}},department_is_add:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},department_is_click:{type:Boolean,default:!1}},data:function(){return{open:!1}},methods:{choiceDepartment:function(t){t.clientX?this.$emit("choiceDepartment",this.root):this.$emit("choiceDepartment",t)},handClick:function(){this.department_is_click?this.$emit("choiceDepartment",this.root):this.open=!this.open}}},_=(i("Gx7+"),i("KHd+")),f=Object(_.a)(m,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"department_item",class:[t.checkboxIds.hasOwnProperty(t.root.id)&&t.department_is_click?"checkbox":""],style:{paddingLeft:t.paddingLeft+"px"},on:{click:t.handClick}},[i("i",{staticClass:"iconfont icon-ht_more_bottom",class:[1==t.open?"open":"",t.root.children&&0!=t.root.children.length||t.root.staff&&0!=t.root.staff.length?"":"opacity0"],on:{click:function(e){e.stopPropagation(),t.open=!t.open}}}),t._v(" "),i("i",{staticClass:"iconfont icon-wenjianjia"}),t._v(" "),i("div",{staticClass:"text"},[t._v(t._s(t.root.name))]),t._v(" "),t.department_is_add?[t.checkboxIds.hasOwnProperty(t.root.id)?i("i",{staticClass:"iconfont icon-all_xuanze",on:{click:function(t){t.stopPropagation()}}}):i("i",{staticClass:"iconfont icon-life-game-plus",on:{click:function(e){return e.stopPropagation(),t.choiceDepartment(e)}}})]:t._e()],2),t._v(" "),t.open?[t.root.children&&t.root.children.length>0?[t._l(t.root.children,function(e){return[i("department_staff_item",{key:e.id,attrs:{paddingLeft:t.paddingLeft+30,root:e,checkboxIds:t.checkboxIds,department_is_add:t.department_is_add,multiple:t.multiple,department_is_click:t.department_is_click},on:{choiceDepartment:t.choiceDepartment}})]})]:t._e(),t._v(" "),t.root.staff&&t.root.staff.length>0?[t._l(t.root.staff,function(e){return[e.department?t._e():i("staff_item",{key:e.user_id+"-"+t.root.id,attrs:{checkId:"user_id",paddingLeft:t.paddingLeft+48,root:e,checkboxIds:t.checkboxIds,multiple:t.multiple},on:{choiceDepartment:t.choiceDepartment}})]})]:t._e()]:t._e()],2)},[],!1,null,"589fe744",null);f.options.__file="department_staff_item.vue";var v=[],g=[],y=null,b={};function x(t,e){if("staff"==e.type&&t.staff&&e.name.indexOf(t.name)>=0&&(b[e.user_id]||(v.push(e),b[e.user_id]=1)),"department"==e.type&&t.department&&e.name.indexOf(t.name)>=0&&g.push(e),e.children&&e.children.length>0){var i=!0,s=!1,n=void 0;try{for(var o,r=a()(e.children);!(i=(o=r.next()).done);i=!0){x(t,o.value)}}catch(t){s=!0,n=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw n}}}if(e.staff&&e.staff.length>0){var c=!0,l=!1,d=void 0;try{for(var u,h=a()(e.staff);!(c=(u=h.next()).done);c=!0){x(t,u.value)}}catch(t){l=!0,d=t}finally{try{!c&&h.return&&h.return()}finally{if(l)throw d}}}}function k(t){var e=!0,i=!1,s=void 0;try{for(var n,o=a()(t);!(e=(n=o.next()).done);e=!0){var r=n.value;if(r.type="department",r.children&&r.children.length>0&&k(r.children),r.has_may_department_staff&&r.has_may_department_staff.length>0){var c=r.has_may_department_staff,l=[],d=!0,u=!1,h=void 0;try{for(var p,m=a()(c);!(d=(p=m.next()).done);d=!0){var _=p.value;if(_.has_one_staff){var f={user_id:_.has_one_staff.user_id,name:_.has_one_staff.name,uid:_.has_one_staff.uid,id:_.has_one_staff.id,type:"staff"};l.push(f)}}}catch(t){u=!0,h=t}finally{try{!d&&m.return&&m.return()}finally{if(u)throw h}}r.staff=l}}}catch(t){i=!0,s=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw s}}return t}var C={components:{department_staff_item:f.exports,staff_item:p.a},props:{department_is_add:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},department_is_click:{type:Boolean,default:!1},search_criteria:{type:Object,default:function(){return{text:"",staff:!0,department:!0}}},from:{type:String,default:""},choosedArr:{type:Array,default:function(){return[]}}},data:function(){return{depatmemtList:[],checkboxIds:{},staffArr:[],departmentArr:[]}},created:function(){},mounted:function(){"sign"==this.from?this.getSignDepartmentList():"welcome"==this.from?this.getWelcomeDepartmentList():"speechcraft"==this.from?this.getSpeechcrafDepartmentList():this.getDepartmentList()},watch:{"search_criteria.name":function(t,e){var i=this;if(y&&clearTimeout(y),""==t)return this.staffArr=[],void(this.departmentArr=[]);y=setTimeout(function(){i.search()},500)}},computed:{search_criteria_computed:function(){return h()({name:"",staff:!0,department:!0},this.search_criteria)}},methods:{choiceData:function(t){0==this.multiple&&(this.checkboxIds={}),"staff"==t.type?this.$set(this.checkboxIds,t.user_id,t):this.$set(this.checkboxIds,t.id,t),this.$emit("choiceData",this.checkboxIds)},delChoiceData:function(t){this.$delete(this.checkboxIds,t),this.$emit("choiceData",this.checkboxIds)},delChoiceAll:function(){this.checkboxIds={},this.$emit("choiceData",this.checkboxIds)},setChoiceData:function(t){var e=this;this.checkboxIds={},this.$nextTick(function(){e.checkboxIds=JSON.parse(o()(t)),e.$emit("choiceData",e.checkboxIds)})},search:function(){var t=this.depatmemtList;v=[],g=[],b={};var e=!0,i=!1,s=void 0;try{for(var n,o=a()(t);!(e=(n=o.next()).done);e=!0){var r=n.value;x(this.search_criteria_computed,r)}}catch(t){i=!0,s=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw s}}console.log(v,g),this.staffArr=v,this.departmentArr=g},getDepartmentList:function(){var t=this;return d()(c.a.mark(function e(){var i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$http.pc_get("plugin/WechatChatSidebar/getDepartmentMember",{});case 2:1===(i=e.sent).result&&(t.depatmemtList=k(i.data),console.log(t.depatmemtList));case 4:case"end":return e.stop()}},e,t)}))()},getSignDepartmentList:function(){var t=this;$http.post("plugin.yun-sign.frontend.company.getDepartmentMember",{id:this.id},"loading").then(function(e){1===e.result?(t.depatmemtList=k(e.data),console.log(t.depatmemtList)):t.$message.error(e.msg)}).catch(function(t){console.log(t)})},getWelcomeDepartmentList:function(){var t=this;$http.pc_post("plugin/WelcomeWords/getDepartmentMember","loading").then(function(e){1===e.result?(t.depatmemtList=k(e.data),console.log(t.depatmemtList)):t.$message.error(e.msg)}).catch(function(t){console.log(t)})},getSpeechcrafDepartmentList:function(){var t=this;$http.pc_post("plugin/SpeechcraftLibrary/getDepartmentMember","loading").then(function(e){1===e.result?(t.depatmemtList=k(e.data),console.log(t.depatmemtList)):t.$message.error(e.msg)}).catch(function(t){console.log(t)})}}},w=(i("FsTy"),Object(_.a)(C,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"department"},[""==t.search_criteria.name?t._l(t.depatmemtList,function(e){return i("department_staff_item",{key:e.id,attrs:{root:e,checkboxIds:t.checkboxIds,department_is_add:t.department_is_add,multiple:t.multiple,department_is_click:t.department_is_click},on:{choiceDepartment:t.choiceData}})}):t._e(),t._v(" "),""!=t.search_criteria.name?[t._l(t.departmentArr,function(e){return[i("department_staff_item",{key:e.id,attrs:{root:e,checkboxIds:t.checkboxIds,department_is_add:t.department_is_add,multiple:t.multiple,department_is_click:t.department_is_click},on:{choiceDepartment:t.choiceData}})]}),t._v(" "),t._l(t.staffArr,function(e){return[i("staff_item",{key:e.user_id,attrs:{root:e,checkId:"user_id",paddingLeft:12,checkboxIds:t.checkboxIds,multiple:t.multiple},on:{choiceDepartment:t.choiceData}})]})]:t._e()],2)},[],!1,null,"1e11d100",null));w.options.__file="choice_department_staff.vue";var L={props:["show","from","choosedArr","only_staff"],components:{choice_department_staff:w.exports},watch:{dialogShow:function(t){this.$emit("update:show",t)},show:function(){this.dialogShow=this.show}},data:function(){return{search_text:"",checkboxArr:[],checkboxIds:{},dialogShow:!1}},methods:{choiceData:function(t){var e=[];for(var i in t)e.push(t[i]);this.checkboxArr=e,this.checkboxIds=t,this.$emit("change",this.callbackData())},delChoice:function(t){"staff"==t.type&&t.user_id?this.$refs.choice_department.delChoiceData(t.user_id):this.$refs.choice_department.delChoiceData(t.id)},setChoiceData:function(t){console.log("执行setChoiceData"),this.$refs.choice_department.setChoiceData(t)},closeDialog:function(){this.$emit("update:show",!1)},confirm:function(){this.$emit("confirm",this.callbackData()),this.closeDialog()},callbackData:function(){var t=[],e=[],i=!0,s=!1,n=void 0;try{for(var r,c=a()(this.checkboxArr);!(i=(r=c.next()).done);i=!0){var l=r.value;"staff"==l.type?t.push(l):e.push(l)}}catch(t){s=!0,n=t}finally{try{!i&&c.return&&c.return()}finally{if(s)throw n}}var d=JSON.parse(o()(this.checkboxIds));return{checkboxArr:JSON.parse(o()(this.checkboxArr)),checkboxIds:d,staffArr:t,departmentArr:e}}}},S=(i("uBcZ"),Object(_.a)(L,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:"选择可见范围",visible:t.dialogShow,width:"835px",center:""},on:{"update:visible":function(e){t.dialogShow=e}}},[i("div",{staticClass:"visibleRange"},[i("div",{staticClass:"visibleRange-left"},[i("div",{staticClass:"search-container"},[i("el-input",{attrs:{placeholder:"输入关键词搜索成员、部门"},model:{value:t.search_text,callback:function(e){t.search_text=e},expression:"search_text"}}),t._v(" "),i("div",{staticClass:"button theme-button",staticStyle:{width:"80px",height:"36px","margin-left":"20px","flex-shrink":"0"}},[t._v("\n          搜索\n        ")])],1),t._v(" "),i("div",{staticClass:"department-container"},[i("choice_department_staff",{ref:"choice_department",attrs:{from:t.from,choosedArr:t.choosedArr,department_is_add:!t.only_staff,multiple:!0,search_criteria:{name:t.search_text}},on:{choiceData:t.choiceData}})],1)]),t._v(" "),i("div",{staticStyle:{width:"50px"}}),t._v(" "),i("div",{staticClass:"visibleRange-right"},[i("div",{staticClass:"department-checkbox-container"},t._l(t.checkboxArr,function(e){return i("div",{key:"staff"==e.type?e.user_id:e.id,staticClass:"staff_item"},["department"==e.type?i("i",{staticClass:"iconfont icon-wenjianjia"}):t._e(),t._v(" "),"staff"==e.type?i("i",{staticClass:"iconfont icon-fontclass-daili"}):t._e(),t._v(" "),i("div",{staticClass:"text"},[t._v(t._s(e.name))]),t._v(" "),i("i",{staticClass:"iconfont icon-close11",on:{click:function(i){t.delChoice(e)}}})])}))])]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("div",{staticClass:"button gray-button",staticStyle:{width:"80px",height:"30px"},on:{click:t.closeDialog}},[t._v("\n      取消\n    ")]),t._v(" "),i("div",{staticClass:"button theme-button",staticStyle:{width:"80px",height:"30px","margin-left":"10px"},on:{click:t.confirm}},[t._v("\n      确定\n    ")])])])},[],!1,null,"bb238f1c",null));S.options.__file="dialog_choice_department_staff.vue";e.a=S.exports},xqtg:function(t,e,i){},zLbp:function(t,e,i){}}]);