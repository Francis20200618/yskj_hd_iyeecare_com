(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4955"],{BaC4:function(t,s,i){"use strict";var a=i("qiC9");i.n(a).a},nxmM:function(t,s,i){"use strict";i.r(s);var a={components:{},data:function(){return{search_input:"",final_plat_id:"",listArr:[]}},mounted:function(){this.getData()},methods:{toUrl:function(t,s){s?this.$router.push(this.fun.getUrl(t,{},{business_id:s.id})):this.$router.push(this.fun.getUrl(t))},toAdmin:function(t){var s=this;$http.pc_get("admin/manageBusiness",{id:t.id},"loading").then(function(i){1===i.result?s.toBusiness(t.id):i.msg&&s.$message.error(i.msg)})},toBusiness:function(t){var s=this;this.$store.dispatch("delAllViews"),this.$store.dispatch("GenerateRoutes",{final_plat_id:t}).then(function(){s.toUrl("overview")})},getData:function(){var t=this;$http.pc_get("admin/businessList",{name:this.search_input},"loading").then(function(s){if(1===s.result){if(t.final_plat_id=s.data.final_plat_id,t.final_plat_id&&"new"===t.$route.params.isFrom)return void t.toBusiness(t.final_plat_id);t.listArr=s.data.platform_list||[],1===t.listArr.length&&"new"===t.$route.params.isFrom&&t.toBusiness(t.listArr[0].id)}})}}},e=(i("BaC4"),i("ZrdR")),n=Object(e.a)(a,function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"business"},[i("el-header",{attrs:{height:"80px"}},[i("div",{staticClass:"headBox"},[i("div",{staticClass:"left"},[i("div",{staticClass:"leftBox"},[i("div",{staticStyle:{display:"flex",height:"17px"}},[i("div",{staticClass:"message-top-title"}),t._v("\n            企业管理\n          ")]),t._v(" "),i("el-button",{staticClass:"createBox",attrs:{size:"small",type:"primary",plain:""},on:{click:function(s){t.toUrl("businessCreate")}}},[t._v("+创建企业\n          ")])],1)]),t._v(" "),i("div",{staticStyle:{display:"flex"}},[i("el-input",{attrs:{placeholder:"请输入企业名称"},model:{value:t.search_input,callback:function(s){t.search_input=s},expression:"search_input"}}),t._v(" "),i("el-button",{attrs:{type:"primary",plain:""},on:{click:t.getData}},[t._v("搜索")])],1)])]),t._v(" "),i("el-main",[t.listArr.length>0?i("div",{staticClass:"ul"},t._l(t.listArr,function(s,a){return i("div",{key:a,staticClass:"list"},[i("div",{staticClass:"list-item"},[i("div",{staticClass:"avaimg"},[i("img",{attrs:{src:s.logo_img,alt:""}})]),t._v(" "),i("div",{staticClass:"userName"},[i("div",{staticClass:"userTop"},[i("span",[t._v(t._s(s.identity_desc))])]),t._v(" "),i("div",{staticClass:"userCompany"},[i("span",[t._v(t._s(s.name))])]),t._v(" "),i("div",{staticClass:"btn"},[s.identity>2?i("el-button",{staticClass:"createBox",attrs:{size:"small",type:"danger"},on:{click:function(i){t.toUrl("businessPeople",s)}}},[t._v("使用人\n              ")]):t._e(),t._v(" "),i("el-button",{staticClass:"createBox admin",attrs:{size:"small",type:"primary"},on:{click:function(i){t.toAdmin(s)}}},[t._v("管理")])],1)])])])})):i("div",{staticClass:"noneul"},[i("span",[t._v("当前没有企业，赶紧创建一个吧！！ "),i("el-link",{staticStyle:{"font-size":"22px","vertical-align":"baseline"},attrs:{type:"primary"},on:{click:function(s){t.toUrl("businessCreate")}}},[t._v("立即创建 >")])],1)])])],1)},[],!1,null,"bb91fa2c",null);n.options.__file="business_list.vue";s.default=n.exports},qiC9:function(t,s,i){}}]);