(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7f66"],{"8y3M":function(t,e,r){"use strict";var a=r("Og0U");r.n(a).a},Og0U:function(t,e,r){},h9qz:function(t,e,r){"use strict";r.r(e);var a=r("QbLZ"),s=r.n(a),i=r("14Xm"),n=r.n(i),u=r("D3Ub"),o=r.n(u),l={components:{group_chat_side:r("NUmi").a},data:function(){return{search:{group_name:"",sort:0},rules:{group_name:[{required:!0,message:"请输入标签名",trigger:"blur"}]},tag_list:[]}},mounted:function(){this.$route.query.group_id&&this.getGroupDetail()},methods:{goBack:function(){this.$router.push(this.fun.getUrl("groupLabel",{},{}))},getGroupDetail:function(){var t=this;return o()(n.a.mark(function e(){var r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$http.pc_post("plugin/GroupDevelopUser/getGroupDetail",{group_id:t.$route.query.group_id},"loading");case 2:(r=e.sent).result?(t.search.group_name=r.data.group_name,t.search.sort=r.data.sort):t.$message.error(r.msg);case 4:case"end":return e.stop()}},e,t)}))()},submitForm:function(){var t=this;return o()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs["tag-list"].validate(function(){var e=o()(n.a.mark(function e(r){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=7;break}return e.next=3,$http.pc_post("plugin/GroupDevelopUser/saveGroup",{group_id:t.$route.query.group_id?t.$route.query.group_id:"",form:s()({},t.search,{tag_list:t.tag_list})},"loading");case 3:(a=e.sent).result?(t.$message.success(a.msg),t.$router.push(t.fun.getUrl("groupingTag",{},{}))):t.$message.error(a.msg),e.next=9;break;case 7:return console.log("error submit!!"),e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},addLabel:function(){this.tag_list.push({tag_name:""})},delLabel:function(t){this.tag_list.splice(t,1)}}},c=(r("8y3M"),r("KHd+")),p=Object(c.a)(l,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"all"},[r("group_chat_side",{attrs:{defaultActive:"groupingTag"}}),t._v(" "),r("div",{attrs:{id:"app"}},[r("div",{staticClass:"list_container"},[r("div",{staticClass:"vue-main-title"},[r("div",{staticClass:"vue-main-title-left"}),t._v(" "),r("div",{staticClass:"vue-main-title-content customers_name title"},[t._v("\n          标签组"+t._s(t.$route.query.group_id?"编辑":"添加")+"\n        ")])]),t._v(" "),r("div",{staticClass:"form"},[r("el-form",{ref:"tag-list",attrs:{"label-width":"100px",model:t.search,rules:t.rules}},[r("el-form-item",{attrs:{label:"标签组名称",prop:"group_name"}},[r("el-input",{staticStyle:{width:"70%"},model:{value:t.search.group_name,callback:function(e){t.$set(t.search,"group_name",e)},expression:"search.group_name"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"排序"}},[r("el-input",{staticStyle:{width:"70%"},attrs:{type:"number",min:0,oninput:"if(value<0) value=0"},model:{value:t.search.sort,callback:function(e){t.$set(t.search,"sort",e)},expression:"search.sort"}})],1),t._v(" "),t.$route.query.group_id?t._e():r("el-form-item",{attrs:{label:" "}},[r("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.addLabel}},[t._v("添加标签")]),t._v(" "),r("div",{staticClass:"tip"},[t._v("至少添加一个标签")])],1),t._v(" "),t._l(t.tag_list,function(e,a){return t.$route.query.group_id?t._e():r("el-form-item",{key:a,attrs:{label:"标签名称"}},[r("el-input",{staticStyle:{width:"70%"},model:{value:e.tag_name,callback:function(r){t.$set(e,"tag_name",r)},expression:"item.tag_name"}}),t._v(" "),r("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"20px",cursor:"pointer"},on:{click:function(e){t.delLabel(a)}}})],1)})],2)],1)])]),t._v(" "),r("div",{staticClass:"vue-page"},[r("el-row",[r("el-col",{attrs:{align:"center"}},[r("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("确定")]),t._v(" "),r("el-button",{on:{click:t.goBack}},[t._v("返回")])],1)],1)],1)],1)},[],!1,null,"3bb12d94",null);p.options.__file="grouping_tag_edit.vue";e.default=p.exports}}]);