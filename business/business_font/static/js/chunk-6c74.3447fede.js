(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6c74"],{"3LDG":function(t,s,e){"use strict";var i=e("jrV2");e.n(i).a},"4nYN":function(t,s,e){},GRwA:function(t,s,e){"use strict";var i=e("dCMl");e.n(i).a},KuU0:function(t,s,e){"use strict";var i=e("mTPN");e.n(i).a},MIgy:function(t,s,e){"use strict";var i=e("WkQP");e.n(i).a},RKBV:function(t,s,e){},RRWp:function(t,s,e){"use strict";var i=e("XrHs");e.n(i).a},V6rR:function(t,s,e){},WkQP:function(t,s,e){},XrHs:function(t,s,e){},YBlt:function(t,s,e){},YPUI:function(t,s,e){"use strict";var i=e("YBlt");e.n(i).a},Zh3d:function(t,s,e){"use strict";var i=e("RKBV");e.n(i).a},a7C8:function(t,s,e){"use strict";var i=e("4nYN");e.n(i).a},dCMl:function(t,s,e){},g6jb:function(t,s,e){"use strict";e.r(s);var i=e("pMXA"),o={props:{asideIndex:{type:Number,default:""}},data:function(){return{}},mounted:function(){},methods:{tapSelect:function(t){this.$emit("changeNum",{ind:t})},colorMethod:function(t){return this.asideIndex==t?"asBg":"amBg"}},watch:{}},n=(e("GRwA"),e("KHd+")),a=Object(n.a)(o,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"dasideBox"},[e("div",{staticClass:"daside",class:t.colorMethod(0),on:{click:function(s){t.tapSelect(0)}}},[e("span",[t._v("购物区")])]),t._v(" "),e("div",{staticClass:"daside",class:t.colorMethod(1),on:{click:function(s){t.tapSelect(1)}}},[e("span",[t._v("挂单区")])]),t._v(" "),e("div",{staticClass:"daside",class:t.colorMethod(2),on:{click:function(s){t.tapSelect(2)}}},[e("span",[t._v("收银台")])])])},[],!1,null,null,null);a.options.__file="aside.vue";var c=a.exports,r=e("gDS+"),l=e.n(r),d=e("P2sY"),u=e.n(d),h={directives:{focus:function(t,s,e){var i=s.value,o=e.context;i&&o.$nextTick(function(){t.focus()})}},props:{},data:function(){return{radio:"",categoryShow:!1,optionShow:!1,optionItem:[],optionsArr:[],has_many_options:[],oneShow:!1,twoShow:!1,thrShow:!1,codeUser:"",editing:!0,classLave:0,classArr:[],classTap:0,parent_id:"",couponArr:[],inpuTime:!1,optionsMin:{stock:0,price:"0.00"}}},computed:{getMember:function(){return this.$store.getters.getPosMember}},methods:{failBack:function(){this.thrShow=!1},tryClick:function(){this.codeUser="",this.thrShow=!1,this.oneShow=!0},spliceColor:function(t,s){if(t.description==s.id)return"classBoxD"},optionClose:function(){this.optionShow=!1},classClose:function(){this.categoryShow=!1},classSure:function(){var t={lave:this.classLave,arr:this.classArr[this.classTap]};this.$emit("optionMethod",t)},optChange:function(t){for(var s=void 0,e=0;e<this.optionsArr.length;e++)s=s?s+"_"+this.optionsArr[e].description:this.optionsArr[e].description;for(var i=0;i<this.has_many_options.length;i++)s==this.has_many_options[i].specs&&(this.optionsMin.stock=this.has_many_options[i].stock,this.optionsMin.price=this.has_many_options[i].product_price)},initStock:function(){for(var t=void 0,s=0;s<this.optionsArr.length;s++)t=t?t+"_"+this.optionsArr[s].description:this.optionsArr[s].description;for(var e=0;e<this.has_many_options.length;e++)t==this.has_many_options[e].specs&&(this.optionsMin.stock=this.has_many_options[e].stock,this.optionsMin.price=this.has_many_options[e].product_price)},optionConfirm:function(){for(var t=void 0,s={id:"",title:""},e=0;e<this.optionsArr.length;e++)t=t?t+"_"+this.optionsArr[e].description:this.optionsArr[e].description;for(var i=0;i<this.has_many_options.length;i++)if(t==this.has_many_options[i].specs){if(0==this.has_many_options[i].stock)return void this.$message.error(this.has_many_options[i].title+" 库存不足");s.id=this.has_many_options[i].id,s.title=this.has_many_options[i].title,this.optionItem.price=this.has_many_options[i].product_price}this.optionShow=!1;var o=u()({},this.optionItem);o.hasOption=s,this.$store.commit("addPushGood",o)},oneShowInp:function(){var t=this;this.inpuTime||(this.inpuTime=!0,setTimeout(function(){t.inpuTime=!1,$http.post("plugin.shop-pos.frontend.member.setPosUid",{login_code:t.codeUser},"loading").then(function(s){if(1===s.result){var e=s.data.member;t.$store.commit("editMember",e),t.$emit("editMember",!0),t.oneShow=!1,t.twoShow=!0}else t.oneShow=!1,t.thrShow=!0,t.$message.error(s.msg)}).catch(function(t){console.log(t)})},900))},getGoods:function(){var t=this;$http.post("goods.goods.get-goods-page",{id:this.optionItem.goods_id},"loading").then(function(s){if(1===s.result){t.optionsArr=s.data.get_goods.has_many_specs,t.has_many_options=s.data.get_goods.has_many_options;for(var e=0;e<t.optionsArr.length;e++)t.optionsArr[e].description=t.optionsArr[e].specitem[0].id;t.initStock()}else t.$message.error(s.msg)}).catch(function(t){console.log(t)})},getClass:function(){var t=this,s={};s.level=this.classLave,2!=this.classLave&&3!=this.classLave||(s.parent_id=this.parent_id),$http.post("plugin.shop-pos.frontend.goods.goodsTypeList",s,"loading").then(function(s){1===s.result?t.classArr=s.data.list:t.$message.error(s.msg)}).catch(function(t){console.log(t)})},tapSelectClass:function(t){this.classTap=t}},watch:{oneShow:{handler:function(t,s){this.codeUser=""},immediate:!0},optionShow:{handler:function(t,s){this.optionsArr=[],this.optionsMin={stock:0,price:"0.00"},t&&this.getGoods()}},categoryShow:{handler:function(t,s){this.classArr=[],this.getClass()}}}},p=(e("MIgy"),e("RRWp"),e("a7C8"),Object(n.a)(h,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"userCheck"}},[e("el-dialog",{attrs:{width:"378px","show-close":!1,visible:t.oneShow},on:{"update:visible":function(s){t.oneShow=s}}},[e("div",{staticClass:"userCheckOne"},[e("span",[t._v("请让用户打开")]),t._v(" "),e("span",{staticClass:"tips"},[t._v("会员中心 -- 动态验证码")]),t._v(" "),e("span",[t._v("并使用扫码枪扫码验证！")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.codeUser,expression:"codeUser"},{name:"show",rawName:"v-show",value:t.editing,expression:"editing"},{name:"focus",rawName:"v-focus",value:t.editing,expression:"editing"}],staticStyle:{opacity:"0",position:"absolute",bottom:"-40px"},attrs:{type:"text",name:"",id:""},domProps:{value:t.codeUser},on:{keydown:t.oneShowInp,input:function(s){s.target.composing||(t.codeUser=s.target.value)}}})])]),t._v(" "),e("el-dialog",{attrs:{width:"378px","show-close":!1,visible:t.twoShow},on:{"update:visible":function(s){t.twoShow=s}}},[e("div",{staticClass:"userCheckOne"},[e("div",{staticClass:"user"},[e("div",{staticClass:"userimg"},[e("img",{attrs:{src:t.getMember.avatar,alt:""}})]),t._v(" "),e("span",{staticClass:"userName"},[t._v(t._s(t.getMember.nickname)+"（ID："+t._s(t.getMember.uid)+"）")])]),t._v(" "),e("div",{staticClass:"txtStatus"},[e("i",{staticClass:"iconfont icon-wancheng2"}),t._v(" "),e("span",[t._v("验证成功")])]),t._v(" "),e("div",{staticClass:"backBtns",on:{click:function(s){t.twoShow=!1}}},[t._v("返回")])])]),t._v(" "),e("el-dialog",{attrs:{width:"840px","show-close":!1,visible:t.thrShow},on:{"update:visible":function(s){t.thrShow=s}}},[e("div",{staticClass:"userCheckOne",staticStyle:{width:"840px"}},[e("div",{staticClass:"failTxt"},[e("i",{staticClass:"iconfont icon-adsystem_icon_cancle"}),t._v(" "),e("span",[t._v("验证失败")])]),t._v(" "),e("div",{staticClass:"failTips"},[t._v("\n        请使用其他验证方式或者不使用抵扣、优惠券、余额支付！\n      ")]),t._v(" "),e("div",{staticClass:"failBtnBox"},[e("div",{staticClass:"tryBtn",on:{click:t.tryClick}},[t._v("再试一次")]),t._v(" "),e("div",{staticClass:"backBtn",on:{click:t.failBack}},[t._v("返回")])])])]),t._v(" "),e("el-dialog",{attrs:{width:"1093px","show-close":!1,visible:t.optionShow},on:{close:t.optionClose,"update:visible":function(s){t.optionShow=s}}},[e("div",{staticClass:"optionsBox"},[e("div",{staticClass:"title"},[t._v(t._s(t.optionItem.title))]),t._v(" "),t._l(t.optionsArr,function(s){return e("div",{key:s.id,staticClass:"optionGuit"},[e("p",{staticClass:"txt"},[t._v(t._s(s.title))]),t._v(" "),e("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[e("el-radio-group",{model:{value:s.description,callback:function(e){t.$set(s,"description",e)},expression:"item.description"}},[t._l(s.specitem,function(i){return[e("el-radio",{key:i.id,attrs:{label:i.id},on:{change:t.optChange}},[e("div",{key:i.id,staticClass:"classBox",class:t.spliceColor(s,i)},[t._v("\n                  "+t._s(i.title)+"\n                ")])])]})],2)],1)])}),t._v(" "),e("div",{staticClass:"submitBtn"},[e("div",{staticClass:"stockOption"},[t._v("库存："+t._s(t.optionsMin.stock))]),t._v(" "),e("div",{staticClass:"optionsPrice"},[t._v("￥"+t._s(t.optionsMin.price))]),t._v(" "),e("div",{staticClass:"btn",on:{click:t.optionConfirm}},[t._v("确定")])])],2)]),t._v(" "),e("el-dialog",{attrs:{width:"58vw","show-close":!1,visible:t.categoryShow,placement:"top-start"},on:{"update:visible":function(s){t.categoryShow=s}}},[e("div",{staticClass:"categoryBox"},[e("div",{staticClass:"categoryBox_list"},t._l(t.classArr,function(s,i){return e("div",{key:i,staticClass:"categoryBox_lis",class:i==t.classTap?"isTap":"",on:{click:function(s){t.tapSelectClass(i)}}},[t._v("\n          "+t._s(s.name)+"\n        ")])})),t._v(" "),e("div",{staticClass:"categoryBox_btn"},[e("div",{staticClass:"cancle",on:{click:t.classClose}},[t._v("取消")]),t._v(" "),e("div",{staticClass:"sure",on:{click:t.classSure}},[t._v("确定")])])])])],1)},[],!1,null,null,null));p.options.__file="userPovop.vue";var v=p.exports,_={directives:{focus:function(t,s,e){var i=s.value,o=e.context;i&&o.$nextTick(function(){t.focus()})}},props:["asideIndex"],data:function(){return{goodSelect:0,price:"",options:[{icon:"icon-huiyuan1",txt:"会员",ind:"0"},{icon:"icon-appointment_delete",txt:"删除",ind:"1"},{icon:"icon-fontclass-daiqueren",txt:"挂单",ind:"2"},{icon:"icon-fontclass-jilu2",txt:"提单",ind:"3"},{icon:"icon-massage_clean",txt:"清空",ind:"4"}],goodsArr:[],orderArr:[],MemberDetail:[],page:1,loadMore:!1,totalPage:1}},mounted:function(){this.getPosMemberDetail()},watch:{asideIndex:function(t,s){console.log(t),1==t&&this.getUpdateTag()}},computed:{getGoodsArr:function(){return 0==this.asideIndex?this.$store.getters.getGodds:this.orderArr},totalNum:function(){for(var t=this.$store.getters.getGodds,s=0,e=0;e<t.length;e++)console.log(t[e]),s+=Number(t[e].price)*Number(t[e].stockNum);return s.toFixed(2)},getMember:function(){return this.$store.getters.getPosMember}},methods:{editMemberMs:function(t){this.getPosMemberDetail(!0)},getPosMemberDetail:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]&&arguments[0];$http.post("plugin.shop-pos.frontend.member.getPosMemberDetail","loading").then(function(e){1===e.result?(t.MemberDetail=e.data.member,e.data.member.member&&!s&&t.$store.commit("editMember",e.data.member.member)):t.$message.error(e.msg)}).catch(function(t){console.log(t)})},tapOption:function(t){if(0==t)this.$refs.options.oneShow=!0;else if(4==t){if(0==this.asideIndex&&this.$store.commit("cleanArr"),1==this.asideIndex)return void this.deleteStorageOrder("-1")}else if(1==t){if(1==this.asideIndex)return void this.deleteStorageOrder(this.getGoodsArr[this.goodSelect].id);this.$store.commit("cleanIndexArr",this.goodSelect)}else 2==t?this.hangTag():3==t&&this.bringOrder()},deleteStorageOrder:function(t){var s=this;$http.post("plugin.shop-pos.frontend.order.deleteStorageOrder",{id:t},"loading").then(function(t){1===t.result?s.getUpdateTag():s.$message.error(t.msg)}).catch(function(t){console.log(t)})},cleanLogin:function(){var t=this;$http.post("plugin.shop-pos.frontend.member.cleanPosUid","loading").then(function(s){1===s.result?(t.$store.commit("cleanMember"),t.MemberDetail=[{balance:0},{point:0},{coupon:0}]):t.$message.error(s.msg)}).catch(function(t){console.log(t)})},bringOrder:function(){var t=this,s=this.orderArr[this.goodSelect].id;$http.post("plugin.shop-pos.frontend.order.pullStorageOrder",{id:s},"loading").then(function(s){if(1===s.result){var e=s.data;t.$store.commit("bring",e),t.orderArr.splice(t.goodSelect,1),t.$message.success(s.msg)}else t.$message.error(s.msg)}).catch(function(t){console.log(t)})},sub:function(t){this.$store.commit("subinfo",t)},add:function(t){this.$store.commit("addinfo",t)},getUpdateTag:function(){var t=this;$http.post("plugin.shop-pos.frontend.order.storageOrderList",{page:this.page},"loading").then(function(s){1===s.result?t.orderArr=s.data:t.$message.error(s.msg)}).catch(function(t){console.log(t)})},hangTag:function(){var t=this,s={price:0,goods_arr:[]},e={};this.$store.getters.getGodds.forEach(function(t){s.price=s.price+t.price*t.stockNum,(e={}).goods_id=t.id,e.total=t.stockNum,e.option_id=0==t.has_option?"0":t.hasOption.id,s.goods_arr.push(e)}),s.goods_arr=l()(s.goods_arr),$http.post("plugin.shop-pos.frontend.order.pushStorageOrder",s,"loading").then(function(s){1===s.result?(t.$store.commit("hangTag"),t.$message.success(s.msg)):t.$message.error(s.msg)}).catch(function(t){console.log(t)})},goOrder:function(){if(console.log(this.asideIndex,"asaassdxdascx"),0==this.asideIndex){if(this.getGoodsArr.length<=0)return void this.$message.error("请选择购物区商品");this.$router.push(this.fun.getUrl("preOrder",{asideIndex:this.asideIndex},{}))}else if(2==this.asideIndex){if(""==this.price||0==this.price)return void this.$message.error("请输入付款金额");this.$router.push(this.fun.getUrl("preOrder",{asideIndex:this.asideIndex,price:this.price},{}))}},tapSelect:function(t){this.goodSelect=t},addColorMethod:function(t){return this.goodSelect==t?"addS":"addM"},colorMethod:function(t){return this.goodSelect==t?"sBg":"mBg"}},components:{userPovop:v}},g=(e("3LDG"),Object(n.a)(_,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"mainLeft"},[e("div",{staticClass:"shopBox"},[e("div",{staticClass:"userbox"},[e("div",{staticClass:"userLeft"},[t._m(0),t._v(" "),e("span",{staticClass:"nameId"},[t._v(t._s(t.getMember.uid?t.getMember.nickname+"(ID:"+t.getMember.uid+")":"游客"))])]),t._v(" "),e("div",{staticClass:"clearBtn",on:{click:t.cleanLogin}},[t._v("清除")])]),t._v(" "),e("div",{staticClass:"detailBox"},[e("div",{staticClass:"detailList"},[e("div",{staticClass:"top"},[t._v(t._s(t.MemberDetail.balance||0))]),t._v(" "),e("div",{staticClass:"txt"},[t._v("余额")])]),t._v(" "),e("div",{staticClass:"detailList"},[e("div",{staticClass:"top"},[t._v(t._s(t.MemberDetail.point||0))]),t._v(" "),e("div",{staticClass:"txt"},[t._v("积分")])]),t._v(" "),e("div",{staticClass:"detailList"},[e("div",{staticClass:"top"},[t._v("\n          "+t._s(t.MemberDetail.level_name?t.MemberDetail.level_name:"/")+"\n        ")]),t._v(" "),e("div",{staticClass:"txt"},[t._v("等级")])]),t._v(" "),e("div",{staticClass:"detailList"},[e("div",{staticClass:"top"},[t._v(t._s(t.MemberDetail.coupon||0)+"张")]),t._v(" "),e("div",{staticClass:"txt"},[t._v("优惠券")])])]),t._v(" "),e("div",{staticClass:"onelist"},[0==t.asideIndex?e("div",{staticClass:"goodsListHead"},[e("div",{staticStyle:{flex:"1.3"}},[t._v("商品名称")]),t._v(" "),e("div",[t._v("单价(￥)")]),t._v(" "),e("div",[t._v("规格")]),t._v(" "),e("div",{staticStyle:{flex:"1.1"}},[t._v("数量")])]):t._e(),t._v(" "),1==t.asideIndex?e("div",{staticClass:"goodsListHead"},[e("div",{staticStyle:{flex:"1.3"}},[t._v("用户名称")]),t._v(" "),e("div",{staticStyle:{flex:"1.3"}},[t._v("订单总价(¥)")]),t._v(" "),e("div",[t._v("时间")]),t._v(" "),e("div",{staticStyle:{flex:"0.6","text-align":"center"}},[t._v("数量")])]):t._e()]),t._v(" "),1==t.asideIndex||0==t.asideIndex?[e("div",{staticClass:"list"},t._l(t.getGoodsArr,function(s,i){return e("div",{key:i,staticClass:"goodsListHead",class:t.colorMethod(i),on:{click:function(s){t.tapSelect(i)}}},[0==t.asideIndex?[e("div",{staticStyle:{flex:"1.3"}},[e("span",{staticClass:"shopTitle"},[t._v(t._s(s.title))])]),t._v(" "),e("div",[t._v(t._s(s.price))]),t._v(" "),e("div",[t._v(t._s(1==s.has_option?s.hasOption.title:""))]),t._v(" "),e("div",{staticClass:"totalMun",staticStyle:{flex:"1.1"}},[e("div",{staticClass:"addBtn",class:t.addColorMethod(i),on:{click:function(s){t.sub(i)}}},[t._v("\n                -\n              ")]),t._v(" "),e("div",[t._v(t._s(s.stockNum))]),t._v(" "),e("div",{staticClass:"addBtn",class:t.addColorMethod(i),on:{click:function(s){t.add(i)}}},[t._v("\n                +\n              ")])])]:t._e(),t._v(" "),1==t.asideIndex?[e("div",{staticStyle:{flex:"1.3"}},[e("div",{staticClass:"orderTitle"},[t._v("\n                "+t._s(s.has_one_member?s.has_one_member.nickname:"游客")+"\n              ")])]),t._v(" "),e("div",{staticStyle:{flex:"1.3"}},[t._v(t._s(s.price))]),t._v(" "),e("div",[t._v(t._s(s.created_at))]),t._v(" "),e("div",{staticClass:"totalMun",staticStyle:{flex:"0.6","text-align":"center"}},[t._v("\n              "+t._s(s.goods_sum)+"\n            ")])]:t._e()],2)})),t._v(" "),e("div",{class:0==t.asideIndex?"asOne":"asTwo"}),t._v(" "),e("div",{staticClass:"optionBox"},t._l(t.options,function(s){return 0!=t.asideIndex&&2!=s.ind||1!=t.asideIndex&&3!=s.ind?e("div",{key:s.ind,staticClass:"optionsLi",on:{click:function(e){t.tapOption(s.ind)}}},[[e("i",{staticClass:"iconfont",class:s.icon}),t._v(" "),e("span",{staticClass:"txt"},[t._v(t._s(s.txt))])]],2):t._e()})),t._v(" "),0==t.asideIndex?e("div",{staticClass:"totalBox"},[e("div",{staticClass:"txt"},[t._v("\n          合计：\n          "),e("span",{staticClass:"txtPrice"},[t._v("¥"+t._s(t.totalNum))])]),t._v(" "),e("div",{staticClass:"line"}),t._v(" "),e("span",{staticClass:"submitBtn",on:{click:t.goOrder}},[t._v("结算")])]):t._e()]:[e("div",{staticClass:"cashierDesk_inp"},[e("div",{staticClass:"inpBox"},[e("input",{attrs:{type:"text",placeholder:"付款金额",disabled:""}}),t._v(" "),e("div",{staticClass:"inpBoxPrice"},[t._v("\n            ￥\n            "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"},{name:"focus",rawName:"v-focus",value:2==t.asideIndex,expression:"asideIndex == 2"}],staticStyle:{"text-align":"right"},attrs:{type:"text",placeholder:"0.00"},domProps:{value:t.price},on:{input:function(s){s.target.composing||(t.price=s.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"tapBtn"},[e("div",{staticClass:"tapBtn_user",on:{click:function(s){t.tapOption(0)}}},[t._v("会员")]),t._v(" "),e("div",{staticClass:"tapBtn_pay",on:{click:t.goOrder}},[t._v("优惠买单")])])]],2),t._v(" "),e("userPovop",{ref:"options",on:{editMember:t.editMemberMs}})],1)},[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"iconCircle"},[s("i",{staticClass:"iconfont icon-fontclass-rengezhongxin"})])}],!1,null,null,null));g.options.__file="mainLeft.vue";var f=g.exports,m={directives:{focus:function(t,s,e){var i=s.value,o=e.context;i&&o.$nextTick(function(){t.querySelector("input").focus()})}},props:["asideIndex"],data:function(){return{oneceValue:{id:"",txt:""},twoValue:{id:"",txt:""},thrValue:{id:"",txt:""},options:[],shopTitle:"",classLaver:2,total:0,listGood:[],page:1,pageSize:20,autoFocus:!1}},watch:{asideIndex:function(t,s){console.log(t,"newval"),0==t&&(this.autoFocus=!0)}},mounted:function(){this.getGoods(),this.getClass()},methods:{optionMethodFather:function(t){console.log(t),1==t.lave?(this.oneceValue.id=t.arr.id,this.oneceValue.txt=t.arr.name,this.twoValue={},this.thrValue={}):2==t.lave?(this.twoValue.id=t.arr.id,this.twoValue.txt=t.arr.name,3==this.classLaver&&(this.thrValue={}),2==this.classLaver&&this.getGoods()):3==t.lave&&(this.thrValue.id=t.arr.id,this.thrValue.txt=t.arr.name,3==this.classLaver&&this.getGoods()),this.$refs.options.categoryShow=!1},selectGood:function(t){0!=t.has_option?(this.$refs.options.optionItem=t,this.$refs.options.optionShow=!0):this.$store.commit("addPushGood",t)},handleCurrentChange:function(t){this.page=t,this.getGoods()},getClass:function(){var t=this;$http.post("plugin.shop-pos.frontend.goods.goodsTypeList","loading").then(function(s){1===s.result?t.classLaver=s.data.max_level:t.$message.error(s.msg)}).catch(function(t){console.log(t)})},getGoods:function(){var t=this,s={"search[keyword]":this.shopTitle,page:this.page,"search[category]":this.thrValue.id?this.thrValue.id:this.twoValue.id?this.twoValue.id:this.oneceValue.id,"search[plugin_id]":-1};$http.get("goods.goods.search-goods",s,"loading").then(function(s){1===s.result?(t.total=s.data.total,t.pageSize=s.data.per_page,t.listGood=s.data.data):(t.total=s.data.total,t.$message.error(s.msg))}).catch(function(t){console.log(t)})},classMethod:function(t){if("one"==t)this.$refs.options.categoryShow=!0,this.$refs.options.classLave=1;else if("two"==t){if(!this.oneceValue.id)return void this.$message.error("请先选择一级分类");this.$refs.options.categoryShow=!0,this.$refs.options.classLave=2,this.$refs.options.parent_id=this.oneceValue.id}else{if(!this.twoValue.id)return void this.$message.error("请先选择二级分类");this.$refs.options.categoryShow=!0,this.$refs.options.classLave=3,this.$refs.options.parent_id=this.twoValue.id}}},components:{userPovop:v}},x=(e("YPUI"),e("kOCR"),Object(n.a)(m,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"mainRight"}},[e("div",{staticClass:"searchBox"},[e("el-input",{directives:[{name:"focus",rawName:"v-focus",value:0==t.asideIndex,expression:"asideIndex == 0"}],staticStyle:{flex:"1","margin-right":"10px"},attrs:{placeholder:"请输入商品名称"},on:{change:function(t){}},model:{value:t.shopTitle,callback:function(s){t.shopTitle=s},expression:"shopTitle"}}),t._v(" "),e("el-input",{staticStyle:{flex:"1","margin-right":"10px"},attrs:{placeholder:"请选择一级分类"},on:{focus:function(s){t.classMethod("one")}},model:{value:t.oneceValue.txt,callback:function(s){t.$set(t.oneceValue,"txt",s)},expression:"oneceValue.txt"}}),t._v(" "),e("el-input",{staticStyle:{flex:"1","margin-right":"10px"},attrs:{placeholder:"请选择二级分类"},on:{focus:function(s){t.classMethod("two")}},model:{value:t.twoValue.txt,callback:function(s){t.$set(t.twoValue,"txt",s)},expression:"twoValue.txt"}}),t._v(" "),"3"==t.classLaver?e("el-input",{staticStyle:{flex:"1","margin-right":"10px"},attrs:{placeholder:"请选择三级分类"},on:{focus:function(s){t.classMethod("thr")}},model:{value:t.thrValue.txt,callback:function(s){t.$set(t.thrValue,"txt",s)},expression:"thrValue.txt"}}):t._e(),t._v(" "),e("div",{staticClass:"searchBtn",on:{click:t.getGoods}},[t._v("搜索")])],1),t._v(" "),e("div",{staticClass:"goodsList"},t._l(t.listGood,function(s){return e("div",{key:s.id,staticClass:"goodLis",on:{click:function(e){t.selectGood(s)}}},[e("div",{staticClass:"img"},[e("img",{attrs:{src:s.thumb,alt:""}})]),t._v(" "),e("div",{staticClass:"idTxt"},[t._v("ID:"+t._s(s.goods_id))]),t._v(" "),e("div",{staticClass:"title"},[t._v("\n        "+t._s(s.title)+"\n      ")]),t._v(" "),e("div",{staticClass:"taste"},[e("span",{staticClass:"dp"},[t._v("￥")]),t._v(t._s(s.price))]),t._v(" "),e("div",{staticClass:"inventory"},[t._v("库存："+t._s(s.stock))])])})),t._v(" "),e("div",{staticClass:"pageBox"},[e("el-pagination",{attrs:{background:"",layout:"pager,next,jumper","next-text":"下一页",total:t.total,"current-page":t.page,"page-size":t.pageSize},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),e("userPovop",{ref:"options",on:{optionMethod:t.optionMethodFather}})],1)},[],!1,null,"d45ffc0a",null));x.options.__file="mainRight.vue";var C=x.exports,b={data:function(){return{bgColor:{aside_bg_color:"#fff",bg_color:"#31374e",min_bg_color:"#ffb83d",font_s_color:"#fff",font_m_colo:"#000"},asideInd:0,dialogFormVisible:!1,business_name:"",member_name:""}},mounted:function(){this.getPosMember()},methods:{changeMethod:function(t){this.asideInd=t.ind},getPosMember:function(){var t=this;$http.pc_get("admin/getBusinessCommonData",{is_business:1},"loading").then(function(s){if(1===s.result){var e={member_name:s.data.member.nickname,business_name:s.data.business.business_name,pos_goods_id:s.data.pos_goods_id};t.$store.commit("editUser",e)}else console.log(s.msg)}).catch(function(t){console.error(t)})}},components:{headTop:i.a,Daside:c,mainLeft:f,mainRight:C}},w=(e("Zh3d"),Object(n.a)(b,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"checkstand",style:{"--bg_color":t.bgColor.bg_color,"--min_bg_color":t.bgColor.min_bg_color,"--font_s_color":t.bgColor.font_s_color,"--font_m_colo":t.bgColor.font_m_colo,"--aside_bg_color":t.bgColor.aside_bg_color}},[e("headTop"),t._v(" "),e("div",{staticClass:"mainBox"},[e("Daside",{attrs:{asideIndex:t.asideInd},on:{changeNum:t.changeMethod}}),t._v(" "),e("mainLeft",{attrs:{asideIndex:t.asideInd}}),t._v(" "),e("mainRight",{attrs:{asideIndex:t.asideInd}})],1),t._v(" "),e("el-dialog",{attrs:{width:"420px","show-close":!1,visible:t.dialogFormVisible},on:{"update:visible":function(s){t.dialogFormVisible=s}}},[e("div",{staticClass:"setUser",attrs:{slot:"title"},slot:"title"},[t._v("设置会员信息")]),t._v(" "),e("div",{staticClass:"setUserConten",attrs:{slot:""},slot:"default"},[e("input",{attrs:{type:"",placeholder:"扫码/输入会员卡号/手机号",name:"",id:""}})]),t._v(" "),e("div",{staticClass:"setUserBtn",attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"cancelBtn",on:{click:function(s){t.dialogFormVisible=!1}}},[t._v("取消")]),t._v(" "),e("div",{staticClass:"confirmBtn"},[t._v("确定")])])])],1)},[],!1,null,null,null));w.options.__file="checkstand.vue";s.default=w.exports},jrV2:function(t,s,e){},kOCR:function(t,s,e){"use strict";var i=e("V6rR");e.n(i).a},mTPN:function(t,s,e){},pMXA:function(t,s,e){"use strict";var i={props:[],data:function(){return{user:this.$store.getters.getPosUser}},methods:{closeBtn:function(){window.location.href="about:blank",window.close()}},mounted:function(){console.log(this.user)}},o=(e("KuU0"),e("KHd+")),n=Object(o.a)(i,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"checkstandhead"},[e("div",{staticClass:"flexA"},[t._m(0),t._v(" "),e("div",{staticClass:"storeName"},[t._v(t._s(t.user.business_name))])]),t._v(" "),e("div",{staticClass:"flexA"},[e("div",{staticClass:"userName"},[t._v("\n      用户名："+t._s(t.user.member_name)+"\n      "),e("span",{staticClass:"escBtn",on:{click:t.closeBtn}},[t._v("退出")])])])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"standTxt"},[this._v("零售"),s("span",{staticClass:"dtxt"},[this._v("收银台")])])}],!1,null,null,null);n.options.__file="headTop.vue";s.a=n.exports}}]);