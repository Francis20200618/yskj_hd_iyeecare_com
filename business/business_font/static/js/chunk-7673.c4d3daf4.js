(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7673"],{"/f1G":function(t,e,i){t.exports={default:i("nhzr"),__esModule:!0}},"032W":function(t,e,i){},"9mf2":function(t,e,i){},DKiO:function(t,e,i){"use strict";var s=i("LXii");i.n(s).a},E8gZ:function(t,e,i){var s=i("jmDH"),a=i("w6GO"),n=i("NsO/"),l=i("NV0k").f;t.exports=function(t){return function(e){for(var i,o=n(e),c=a(o),r=c.length,d=0,p=[];r>d;)i=c[d++],s&&!l.call(o,i)||p.push(t?[i,o[i]]:o[i]);return p}}},IFkG:function(t,e,i){"use strict";var s=i("14Xm"),a=i.n(s),n=i("QbLZ"),l=i.n(n),o=i("D3Ub"),c=i.n(o),r={props:{couponDialogVisible:{type:Boolean,default:!1},axios_url:{type:String,default:""},tagtype:{type:String,default:"标签"}},components:{},data:function(){return{search:{name:""},tableData:[],oneShow:!1}},computed:{},created:function(){},mounted:function(){this.getTagList(),console.log(this.axios_url,"this.axios_url")},methods:{searchs:function(t){this.getTagList()},select:function(t){t&&this.$emit("couponOptionData",{data:t,name:this.tagtype}),this.$emit("couponChangeVisible",!1)},getTagList:function(){var t=this;return c()(a.a.mark(function e(){var i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$http.pc_post(t.axios_url,l()({},t.search));case 2:1==(i=e.sent).result?(t.tableData=i.data,t.oneShow||t.$emit("tagDataList",t.tableData),t.oneShow=!0):(t.$message.error(i.msg),t.oneShow=!0);case 4:case"end":return e.stop()}},e,t)}))()}}},d=(i("DKiO"),i("KHd+")),p=Object(d.a)(r,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"tag-dialog"}},[i("el-dialog",{attrs:{center:"",title:"选择"+t.tagtype,visible:t.couponDialogVisible,"before-close":t.select,width:"50%"},on:{"update:visible":function(e){t.couponDialogVisible=e}}},[i("div",{staticStyle:{display:"flex",width:"95%"}},[i("el-input",{attrs:{placeholder:""+t.tagtype=="tag"?"请输入"+t.tagtype+"名或者标签组名":"请输入"+t.tagtype+"名"},model:{value:t.search.name,callback:function(e){t.$set(t.search,"name",e)},expression:"search.name"}}),t._v(" "),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(e){t.searchs(1)}}},[t._v("搜索")])],1),t._v(" "),i("el-table",{staticStyle:{width:"100%",height:"500px","overflow-y":"auto"},attrs:{data:t.tableData}},[i("el-table-column",{attrs:{align:"center",prop:"id",label:"ID"}}),t._v(" "),i("el-table-column",{attrs:{prop:"name",align:"center",label:t.tagtype+"名称"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{plain:""},on:{click:function(i){t.select(e.row)}}},[t._v("选择")])]}}])})],1)],1)],1)},[],!1,null,"19e20294",null);p.options.__file="tag_dialog.vue";e.a=p.exports},LXii:function(t,e,i){},"RU/L":function(t,e,i){i("Rqdy");var s=i("WEpk").Object;t.exports=function(t,e,i){return s.defineProperty(t,e,i)}},Rqdy:function(t,e,i){var s=i("Y7ZC");s(s.S+s.F*!i("jmDH"),"Object",{defineProperty:i("2faE").f})},SEkw:function(t,e,i){t.exports={default:i("RU/L"),__esModule:!0}},TXmZ:function(t,e,i){"use strict";var s=i("FyfS"),a=i.n(s),n=i("gDS+"),l=i.n(n),o=i("ErL5"),c=i("Fqtg"),r={components:{uploadImg:o.a,uploadVideo:c.a},props:{textState:{type:String,default:"one"},testSlogan:{type:String,default:"感谢您的关注，我们将竭诚为您服务!"},nicknameList:{type:Array,default:[{name:"客户昵称",value:"{{客户昵称}}"}]},dataShowList:{type:Array,default:function(){return[]}}},data:function(){return{type_choice:[],select_type_id:0,message_type:"",uploadImgType:"",uploadImgIndex:"",uploadShow:!1,chioceList:[],uploadVideoShow:!1,changeVideoVisible:!1,uploadVideoType:"",uploadVideoIndex:"",testLength:"",showText:"",pos:""}},mounted:function(){var t=this;this.chioceList.forEach(function(e){t.type_choice.push({id:e.id,name:e.name})}),this.$route.query.id?this.editDataShow():"one"==this.textState?(this.testLength=document.querySelector("#test").innerText,this.type_choice.push({id:0,name:"文本"})):(this.selectCommand("文本"),this.message_type="文本",this.select_type_id="text0")},watch:{chioceList:{handler:function(t,e){this.$emit("chioceList",this.chioceList)},deep:!0},select_type_id:function(t,e){var i=this;0==e?"one"==this.textState&&(this.testInnerHTML=JSON.parse(l()(document.getElementById("test").innerHTML))):"more"==this.textState&&this.$nextTick(function(){var t=!0,s=!1,n=void 0;try{for(var l,o=a()(i.chioceList);!(t=(l=o.next()).done);t=!0){var c=l.value;c.textList.id===e&&(c.textList.test_innerHTML=c.textList.text?c.textList.text:i.testSlogan,c.textList.text_info=!1)}}catch(t){s=!0,n=t}finally{try{!t&&o.return&&o.return()}finally{if(s)throw n}}}),0==t&&this.$nextTick(function(){"one"==i.textState&&(document.getElementById("test").innerHTML=i.testInnerHTML)})}},methods:{editDataShow:function(){this.showDatafilter(this.dataShowList),this.filterNicename()},filterNicename:function(t){var e=t;if(void 0!=t){var i=!0,s=!1,n=void 0;try{for(var l,o=a()(this.nicknameList);!(i=(l=o.next()).done);i=!0){var c=l.value,r=new RegExp('">'+c.value+"<","g");e=e.replace(r,'">'+c.name+"<")}}catch(t){s=!0,n=t}finally{try{!i&&o.return&&o.return()}finally{if(s)throw n}}return e}},showDatafilter:function(t){var e=this,i=!0,s=!1,n=void 0;try{for(var l,o=a()(t);!(i=(l=o.next()).done);i=!0){var c=l.value,r=null;if("one"==this.textState){if("text"==c.type){var d=this.filterNicename(c.news);this.showText=d,this.$emit("news",this.showText)}}else r=this.filterNicename(c.news);this.type_choice.push({id:"more"==this.textState?"text"+this.type_choice.length:"text"==c.type?0:"text"+this.type_choice.length,name:"text"==c.type?"文本":"image"==c.type?"图片":"link"==c.type?"链接":"applet"==c.type?"小程序":"video"==c.type?"视频":"file"==c.type?"文件":""}),this.chioceList.push({id:"text"+(this.type_choice.length-1),name:"text"==c.type?"文本":"image"==c.type?"图片":"link"==c.type?"链接":"applet"==c.type?"小程序":"video"==c.type?"视频":"file"==c.type?"文件":"",textList:{id:"text"+(this.type_choice.length-1),text:"text"==c.type?r:this.testSlogan,test_innerHTML:"text"==c.type?r:this.testSlogan,text_info:!1,test_length:"text"==c.type?r:this.testSlogan},imgList:{link_img:"image"==c.type?c.link_img:"",id:"text"+(this.type_choice.length-1)},linkList:{title:"link"==c.type?c.title:"",link:"link"==c.type?c.link:"",describe:"link"==c.type?c.describe:"",link_img:"link"==c.type?c.link_img:"",id:"text"+(this.type_choice.length-1)},applet:{title:"applet"==c.type?c.title:"",appid:"applet"==c.type?c.appid:"",page:"applet"==c.type?c.page:"",link_img:"applet"==c.type?c.link_img:"",id:"text"+(this.type_choice.length-1)},video:{link_video:"video"==c.type?c.link_video:"",id:"text"+(this.type_choice.length-1)},file:{link_file:"file"==c.type?c.link_file:"",id:"text"+(this.type_choice.length-1)}}),"more"==this.textState&&(this.select_type_id=this.chioceList[0].id,this.message_type=this.chioceList[0].name,this.$nextTick(function(){e.chioceList[0].textList.test_length=document.getElementById("text0").innerText}))}}catch(t){s=!0,n=t}finally{try{!i&&o.return&&o.return()}finally{if(s)throw n}}this.$nextTick(function(){"one"==e.textState&&(e.testLength=e.$refs.test_show.innerText)})},selectCommand:function(t){this.type_choice.length>9||(this.type_choice.push({id:"text"+this.type_choice.length,name:t}),this.chioceList.push({id:"text"+(this.type_choice.length-1),name:t,textList:{id:"text"+(this.type_choice.length-1),text:this.testSlogan,test_innerHTML:"",text_info:!0,test_length:this.testSlogan},imgList:{link_img:"",id:"text"+(this.type_choice.length-1)},linkList:{title:"",link:"",describe:"",link_img:"",id:"text"+(this.type_choice.length-1)},applet:{title:"",appid:"",page:"",link_img:"",id:"text"+(this.type_choice.length-1)},video:{link_video:"",id:"text"+(this.type_choice.length-1)},file:{link_file:"",id:"text"+(this.type_choice.length-1)}}))},btnSelect:function(t,e,i){var s=this;this.select_type_id=t,this.message_type=e,"more"==this.textState&&"文本"==this.message_type&&this.$nextTick(function(){var t=!0,e=!1,i=void 0;try{for(var n,l=a()(s.chioceList);!(t=(n=l.next()).done);t=!0){var o=n.value;o.textList.id===s.select_type_id&&(o.textList.test_length=document.getElementById(s.select_type_id).innerText)}}catch(t){e=!0,i=t}finally{try{!t&&l.return&&l.return()}finally{if(e)throw i}}})},typeChange:function(t){var e=!0,i=!1,s=void 0;try{for(var n,l=a()(this.type_choice);!(e=(n=l.next()).done);e=!0){var o=n.value;o.id==this.select_type_id&&(o.name=t)}}catch(t){i=!0,s=t}finally{try{!e&&l.return&&l.return()}finally{if(i)throw s}}var c=!0,r=!1,d=void 0;try{for(var p,_=a()(this.chioceList);!(c=(p=_.next()).done);c=!0){var h=p.value;h.id==this.select_type_id&&(h.name=t,this.switchNull(h))}}catch(t){r=!0,d=t}finally{try{!c&&_.return&&_.return()}finally{if(r)throw d}}},switchNull:function(t){t.imgList.link_img="",t.linkList.title="",t.linkList.link="",t.linkList.describe="",t.linkList.link_img="",t.applet.title="",t.applet.page="",t.applet.link_img="",t.applet.appid="",t.video.link_video="",t.file.link_file="",t.textList.test_innerHTML=this.testSlogan,t.textList.test_length=this.testSlogan,t.textList.text=this.testSlogan},delItemCard:function(t,e){var i=this,s=void 0;this.type_choice.forEach(function(t,e){t.id==i.select_type_id&&(s=e)}),this.chioceList.splice(e,1),this.type_choice.splice(s,1),this.select_type_id="one"==this.textState?0:"text0"},openUpload:function(t,e){this.uploadImgType=t,this.uploadImgIndex=e,this.uploadShow=!0},sureImg:function(t){switch(this.uploadImgType){case"img":this.chioceList[this.uploadImgIndex].imgList.link_img=t;break;case"link":this.chioceList[this.uploadImgIndex].linkList.link_img=t;break;case"applet":this.chioceList[this.uploadImgIndex].applet.link_img=t}},openUploadVideo:function(t,e){this.uploadVideoType=t,this.uploadVideoIndex=e,this.uploadVideoShow=!0},sureVideo:function(t){this.chioceList[this.uploadVideoIndex].video.link_video=t},uploadSuccess:function(t,e,i,s){1===t.result?(this.chioceList[s].file.link_file=t.data.img_url,this.$message.success("上传成功！")):this.$message.error(t.msg)},beforeUpload:function(t,e){},getPos:function(){this.pos=window.getSelection().getRangeAt(0)},addCustomerNickname:function(t){var e=this,i=document.createElement("span");if(i.innerHTML=t,i.style.color="#29ba9c",i.style.margin="0 5px",i.setAttribute("contenteditable","false"),"more"==this.textState?this.$nextTick(function(){switch(e.select_type_id){case"text"+e.chioceList.length:("text"+e.chioceList.length).appendChild(i)}}):test.appendChild(i),""===this.pos){"one"==this.textState&&(this.select_type_id="test");var s=document.getElementById(String(this.select_type_id));s.focus();var a=window.getSelection();a.selectAllChildren(s),a.collapseToEnd(),this.pos=window.getSelection().getRangeAt(0)}this.pos.insertNode(i),this.blurChangeText()},blurChangeText:function(t){var e=this,i=void 0;i="more"==this.textState?document.getElementById(String(this.select_type_id)).innerHTML:document.getElementById("test").innerHTML,this.testInnerHTML=i,this.$emit("news",i),"more"==this.textState?this.testLength=document.getElementById(String(this.select_type_id)).innerText:this.testLength=document.getElementById("test").innerText,"more"==this.textState&&this.$nextTick(function(){var t=!0,i=!1,s=void 0;try{for(var n,l=a()(e.chioceList);!(t=(n=l.next()).done);t=!0){var o=n.value;o.textList.id===e.select_type_id&&(o.textList.text=document.getElementById(e.select_type_id).innerHTML,o.textList.test_length=document.getElementById(e.select_type_id).innerText)}}catch(t){i=!0,s=t}finally{try{!t&&l.return&&l.return()}finally{if(i)throw s}}})}}},d=(i("yEv8"),i("KHd+")),p=Object(d.a)(r,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"welcome_card"}},[i("el-row",{staticClass:"card_detail"},[i("el-col",{attrs:{span:2}},[t._l(t.type_choice,function(e,s){return i("div",{key:s,staticClass:"choice_card",class:[t.select_type_id==e.id?"choice_card_active":"choice_card"],on:{click:function(i){t.btnSelect(e.id,e.name,s)}}},[t._v(t._s(e.name))])}),t._v(" "),this.type_choice.length>9?t._e():i("el-dropdown",{attrs:{trigger:"hover"},on:{command:t.selectCommand}},[i("div",{staticClass:"choice_add_card"},[i("i",{staticClass:"el-icon-plus"}),t._v("新建")]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},["more"==t.textState?i("el-dropdown-item",{attrs:{command:"文本"}},[t._v("文本")]):t._e(),t._v(" "),i("el-dropdown-item",{attrs:{command:"图片"}},[t._v("图片")]),t._v(" "),i("el-dropdown-item",{attrs:{command:"链接"}},[t._v("链接")]),t._v(" "),i("el-dropdown-item",{attrs:{command:"小程序"}},[t._v("小程序")]),t._v(" "),i("el-dropdown-item",{attrs:{command:"视频"}},[t._v("视频")]),t._v(" "),i("el-dropdown-item",{attrs:{command:"文件"}},[t._v("文件")])],1)],1)],2),t._v(" "),i("el-col",{staticStyle:{"border-bottom":"1px solid #d9d9d9","border-top":"1px solid #d9d9d9"},attrs:{span:22}},[0==t.select_type_id&&"one"==t.textState?i("div",[i("el-form",{staticClass:"text-form-inline",attrs:{"label-width":"140px"}},[i("el-form-item",{attrs:{label:"文本消息:"}},[i("div",{staticClass:"text_message"},[t.$route.query.id?t._e():i("div",{staticStyle:{"padding-left":"10px"},attrs:{id:"test",contenteditable:"true",spellcheck:"true","data-medium-editor-element":"true",role:"textbox","aria-multiline":"true"},on:{keyup:t.blurChangeText,blur:t.getPos}},[t._v(t._s(t.testSlogan))]),t._v(" "),t.$route.query.id?i("div",{ref:"test_show",staticStyle:{"padding-left":"10px"},attrs:{id:"test",contenteditable:"true",spellcheck:"true","data-medium-editor-element":"true",role:"textbox","aria-multiline":"true"},domProps:{innerHTML:t._s(t.showText)},on:{keyup:t.blurChangeText,blur:t.getPos}}):t._e(),t._v(" "),i("div",{staticClass:"chat-opt-header-item"},[i("div",{staticStyle:{display:"flex"}},t._l(t.nicknameList,function(e,s){return i("span",{key:s,staticClass:"item_card customer_item_card",attrs:{slot:"reference"},on:{click:function(i){t.addCustomerNickname(e.name,"")}},slot:"reference"},[t._v(t._s(e.name))])})),t._v(" "),i("span",{staticStyle:{position:"absolute",bottom:"45px",left:"68%","font-size":"14px",color:"#5c5c5c"}},[t._v(t._s(t.testLength.length)+"/1000")])])])])],1)],1):t._e(),t._v(" "),0!==t.select_type_id?i("div",[i("el-form",{staticClass:"text-form-inline",attrs:{"label-width":"140px"}},[i("el-form-item",{attrs:{label:"消息类型:"}},[i("el-radio-group",{on:{change:t.typeChange},model:{value:t.message_type,callback:function(e){t.message_type=e},expression:"message_type"}},["more"==t.textState?i("el-radio",{attrs:{label:"文本"}},[t._v("文本")]):t._e(),t._v(" "),i("el-radio",{attrs:{label:"图片"}},[t._v("图片")]),t._v(" "),i("el-radio",{attrs:{label:"链接"}},[t._v("链接")]),t._v(" "),i("el-radio",{attrs:{label:"小程序"}},[t._v("小程序")]),t._v(" "),i("el-radio",{attrs:{label:"视频"}},[t._v("视频")]),t._v(" "),i("el-radio",{attrs:{label:"文件"}},[t._v("文件")])],1)],1),t._v(" "),t._l(t.chioceList,function(e,s){return"文本"==t.message_type&&e.textList.id==t.select_type_id&&"more"==t.textState?i("div",{key:s},[i("el-form-item",{attrs:{label:"文本消息:"}},[i("div",{staticClass:"text_message"},[e.textList.text_info?i("div",{staticClass:"text-more",staticStyle:{"padding-left":"10px"},attrs:{id:t.select_type_id,contenteditable:"true",spellcheck:"true","data-medium-editor-element":"true",role:"textbox","aria-multiline":"true"},on:{keyup:t.blurChangeText,blur:t.getPos}},[t._v(t._s(t.testSlogan))]):t._e(),t._v(" "),e.textList.text_info?t._e():i("div",{staticClass:"text-more",staticStyle:{"padding-left":"10px"},attrs:{id:t.select_type_id,contenteditable:"true",spellcheck:"true","data-medium-editor-element":"true",role:"textbox","aria-multiline":"true"},domProps:{innerHTML:t._s(e.textList.test_innerHTML)},on:{keyup:t.blurChangeText,blur:t.getPos}}),t._v(" "),i("div",{staticClass:"chat-opt-header-item"},[i("div",{staticStyle:{display:"flex"}},t._l(t.nicknameList,function(e,s){return i("span",{key:s,staticClass:"item_card customer_item_card",attrs:{slot:"reference"},on:{click:function(i){t.addCustomerNickname(e.name,s)}},slot:"reference"},[t._v(t._s(e.name))])})),t._v(" "),i("span",{staticStyle:{position:"absolute",bottom:"45px",left:"68%","font-size":"14px",color:"#5c5c5c"}},[t._v(t._s(e.textList.test_length.length)+"/1000")])])])]),t._v(" "),i("el-form-item",{attrs:{label:" "}},[0!==s?i("span",{staticClass:"item_card",on:{click:function(e){t.delItemCard("text",s)}}},[t._v("删除该条")]):t._e()])],1):t._e()}),t._v(" "),t._l(t.chioceList,function(e,s){return"图片"==t.message_type&&e.imgList.id==t.select_type_id?i("div",{key:s},[i("el-form-item",{attrs:{label:"上传图片:"}},[i("div",{staticClass:"upload-box",on:{click:function(e){t.openUpload("img",s)}}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"32px"}})]),t._v(" "),e.imgList.link_img?i("div",{staticClass:"upload-boxed",on:{click:function(e){t.openUpload("img",s)}}},[i("img",{staticStyle:{width:"150px",height:"150px","border-radius":"5px",cursor:"pointer","object-fit":"contain","margin-top":"10px"},attrs:{src:e.imgList.link_img,alt:""}}),t._v(" "),i("div",{staticClass:"upload-boxed-text"},[t._v("点击重新上传")])]):t._e()]),t._v(" "),i("el-form-item",{attrs:{label:" "}},[i("span",{staticClass:"item_card",on:{click:function(e){t.delItemCard("img",s)}}},[t._v("删除该条")])])],1):t._e()}),t._v(" "),t._l(t.chioceList,function(e,s){return"链接"==t.message_type&&e.linkList.id==t.select_type_id?i("div",{key:s,staticClass:"link_card"},[i("el-form-item",{attrs:{label:"链接标题:",required:""}},[i("div",{staticClass:"more_words"},[i("el-input",{attrs:{placeholder:"请输入链接标题,最多64个字",maxlength:64},model:{value:e.linkList.title,callback:function(i){t.$set(e.linkList,"title",i)},expression:"item.linkList.title"}}),t._v(" "),i("span",[t._v(t._s(e.linkList.title.length)+"/64")])],1)]),t._v(" "),i("el-form-item",{attrs:{label:"链接地址:",required:""}},[i("div",{staticClass:"more_words"},[i("el-input",{attrs:{placeholder:"请以https://开头"},model:{value:e.linkList.link,callback:function(i){t.$set(e.linkList,"link",i)},expression:"item.linkList.link"}})],1)]),t._v(" "),i("el-form-item",{attrs:{label:"链接描述:"}},[i("div",{staticClass:"more_words"},[i("el-input",{attrs:{placeholder:"请输入链接描述,最多256个字",maxlength:256},model:{value:e.linkList.describe,callback:function(i){t.$set(e.linkList,"describe",i)},expression:"item.linkList.describe"}}),t._v(" "),i("span",[t._v(t._s(e.linkList.describe.length)+"/256")])],1)]),t._v(" "),i("el-form-item",{attrs:{label:"链接封面:"}},[i("div",{staticClass:"upload-box",on:{click:function(e){t.openUpload("link",s)}}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"32px"}})]),t._v(" "),e.linkList.link_img?i("div",{staticClass:"upload-boxed",on:{click:function(e){t.openUpload("link",s)}}},[i("img",{staticStyle:{width:"150px",height:"150px","border-radius":"5px",cursor:"pointer","object-fit":"contain"},attrs:{src:e.linkList.link_img,alt:""}}),t._v(" "),i("div",{staticClass:"upload-boxed-text"},[t._v("点击重新上传")])]):t._e()]),t._v(" "),i("el-form-item",{attrs:{label:" "}},[i("span",{staticClass:"item_card",on:{click:function(e){t.delItemCard("link",s)}}},[t._v("删除该条")])])],1):t._e()}),t._v(" "),t._l(t.chioceList,function(e,s){return"小程序"==t.message_type&&e.applet.id==t.select_type_id?i("div",{key:s,staticClass:"link_card"},[i("el-form-item",{attrs:{label:"小程序标题:",required:""}},[i("div",{staticClass:"more_words"},[i("el-input",{attrs:{placeholder:"请输入小程序标题,最多32个字",maxlength:32},model:{value:e.applet.title,callback:function(i){t.$set(e.applet,"title",i)},expression:"item.applet.title"}}),t._v(" "),i("span",[t._v(t._s(e.applet.title.length)+"/32")])],1)]),t._v(" "),i("el-form-item",{attrs:{label:"小程序appid:",required:""}},[i("div",{staticClass:"more_words"},[i("el-input",{attrs:{placeholder:"必须是关联到企业的小程序应用"},model:{value:e.applet.appid,callback:function(i){t.$set(e.applet,"appid",i)},expression:"item.applet.appid"}}),t._v(" "),i("span")],1)]),t._v(" "),i("el-form-item",{attrs:{label:"小程序page路径:",required:""}},[i("div",{staticClass:"more_words"},[i("el-input",{attrs:{placeholder:"请输入小程序路径",maxlength:256},model:{value:e.applet.page,callback:function(i){t.$set(e.applet,"page",i)},expression:"item.applet.page"}}),t._v(" "),i("span",[t._v(t._s(e.applet.page.length)+"/256")])],1)]),t._v(" "),i("el-form-item",{attrs:{label:"小程序封面:",required:""}},[i("div",{staticStyle:{display:"flex"}},[i("div",{staticClass:"upload-box",on:{click:function(e){t.openUpload("applet",s)}}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"32px"}})]),t._v(" "),e.applet.link_img?t._e():i("div",{staticClass:"tip",staticStyle:{display:"flex","align-items":"flex-end","margin-left":"5px","flex-shrink":"0"}},[t._v("建议尺寸为520*416")])]),t._v(" "),e.applet.link_img?i("div",{staticClass:"upload-boxed",on:{click:function(e){t.openUpload("applet",s)}}},[i("div",{staticStyle:{display:"flex"}},[i("img",{staticStyle:{width:"150px",height:"150px","border-radius":"5px",cursor:"pointer","margin-top":"10px"},attrs:{src:e.applet.link_img,alt:""}}),t._v(" "),i("div",{staticClass:"tip",staticStyle:{display:"flex","align-items":"flex-end","margin-left":"5px","flex-shrink":"0"}},[t._v("建议尺寸为520*416")])]),t._v(" "),i("div",{staticClass:"upload-boxed-text"},[t._v("点击重新上传")])]):t._e()]),t._v(" "),i("el-form-item",{attrs:{label:" "}},[i("span",{staticClass:"item_card",on:{click:function(e){t.delItemCard("applet",s)}}},[t._v("删除该条")])])],1):t._e()}),t._v(" "),t._l(t.chioceList,function(e,s){return"视频"==t.message_type&&e.video.id==t.select_type_id?i("div",{key:s,staticClass:"link_card"},[i("el-form-item",{attrs:{label:"上传视频:",required:""}},[i("div",{staticClass:"upload-box",on:{click:function(e){t.openUploadVideo("applet",s)}}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"32px"}})]),t._v(" "),e.video.link_video?i("div",{staticClass:"upload-boxed"},[i("video",{attrs:{src:e.video.link_video,alt:"",controls:"controls"}}),t._v(" "),i("div",{staticClass:"upload-boxed-text",on:{click:function(e){t.openUploadVideo("applet",s)}}},[t._v("点击重新上传")])]):t._e()]),t._v(" "),i("el-form-item",{attrs:{label:" "}},[i("span",{staticClass:"item_card",on:{click:function(e){t.delItemCard("video",s)}}},[t._v("删除该条")])])],1):t._e()}),t._v(" "),t._l(t.chioceList,function(e,s){return"文件"==t.message_type&&e.file.id==t.select_type_id?i("div",{key:s,staticClass:"link_card"},[i("el-form-item",{attrs:{label:"上传文件:",required:""}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.fun.getRealUrl("upload.uploadPic&upload_type=file"),accept:".pdf, .doc, .docx, .xls, .xlsx","show-file-list":!1,"on-success":function(e,i,a){return t.uploadSuccess(e,i,a,s)},"before-upload":t.beforeUpload}},[e.file.link_file?t._e():i("div",{staticClass:"upload-box"},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"32px"}})]),t._v(" "),e.file.link_file?i("div",[i("div",{staticClass:"check_card"},[i("i",{staticClass:"el-icon-circle-check"}),t._v("已选择1个文件 "),i("span",[t._v("[修改]")])])]):t._e()])],1),t._v(" "),i("el-form-item",{attrs:{label:" "}},[i("span",{staticClass:"item_card",on:{click:function(e){t.delItemCard("file",s)}}},[t._v("删除该条")])])],1):t._e()})],2)],1):t._e()])],1),t._v(" "),i("upload-img",{attrs:{centerDialogVisible:t.uploadShow},on:{changeVisible:function(e){t.uploadShow=!1},sureImg:t.sureImg}}),t._v(" "),i("upload-video",{attrs:{centerDialogVideoVisible:t.uploadVideoShow},on:{changeVideoVisible:function(e){t.uploadVideoShow=!1},sureVideo:t.sureVideo}})],1)},[],!1,null,"7a6391a6",null);p.options.__file="content_options_card.vue";var _=p.exports,h=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{staticStyle:{width:"100%","padding-bottom":"40px"},attrs:{src:i("bZdz"),alt:""}})])}],u=i("YEIV"),m={data:function(){return{news:""}},props:i.n(u)()({textState:{type:String,default:"one"},gnChioceLists:{type:Array,default:function(){return[]}},avatar:{type:String,default:""},testSlogan:{type:String,default:""},texts:{type:String,default:""}},"avatar",{type:String,default:""}),watch:{gnChioceLists:{handler:function(t,e){this.updateGnChioceLists()},deep:!0},texts:function(t,e){var i=t.replace(/\">{{客户昵称}}</g,'">客户昵称<');this.news=i,this.updateGnChioceLists()}},mounted:function(){this.news=this.testSlogan},methods:{updateGnChioceLists:function(t){var e=!0,i=!1,s=void 0;try{for(var n,l=a()(this.gnChioceLists);!(e=(n=l.next()).done);e=!0){var o=n.value;"文本"==o.name&&(o.texts=this.news)}}catch(t){i=!0,s=t}finally{try{!e&&l.return&&l.return()}finally{if(i)throw s}}}},components:{}},v=(i("cvUb"),Object(d.a)(m,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),t._v(" "),"one"==t.textState?i("div",{staticClass:"show_item"},[i("div",{staticClass:"show_img"},[t.avatar?i("img",{attrs:{src:t.avatar,alt:""}}):t._e()]),t._v(" "),i("div",{staticClass:"show_content"},[t.avatar?i("div",{staticClass:"triangle"}):t._e(),t._v(" "),i("div",{staticClass:"test_msg"},[i("div",{staticClass:"link_list",staticStyle:{padding:"10px","line-height":"30px"}},[i("div",{staticStyle:{padding:"0px"},domProps:{innerHTML:t._s(t.news)}})])])])]):t._e(),t._v(" "),t._l(t.gnChioceLists,function(e,s){return i("div",{key:s},["文本"==e.name&&"more"==t.textState&&e.textList.text?i("div",{staticClass:"show_item"},[i("div",{staticClass:"show_img"},[t.avatar?i("img",{attrs:{src:t.avatar,alt:""}}):t._e()]),t._v(" "),i("div",{staticClass:"show_content"},[t.avatar?i("div",{staticClass:"triangle"}):t._e(),t._v(" "),i("div",{staticClass:"test_msg"},[i("div",{staticClass:"link_list",staticStyle:{padding:"10px","line-height":"30px"}},[i("div",{staticStyle:{padding:"0px"},domProps:{innerHTML:t._s(e.textList.text)}})])])])]):t._e(),t._v(" "),"图片"==e.name&&e.imgList.link_img?i("div",{staticClass:"show_item"},[i("div",{staticClass:"show_img"},[t.avatar?i("img",{attrs:{src:t.avatar,alt:""}}):t._e()]),t._v(" "),i("div",{staticStyle:{width:"calc(100% - 40px)"}},[i("div",{}),t._v(" "),i("div",{},[i("img",{staticStyle:{width:"190px","object-fit":"cover","margin-left":"10px"},attrs:{src:e.imgList.link_img,alt:""}})])])]):t._e(),t._v(" "),"链接"==e.name&&(e.linkList.title||e.linkList.link||e.linkList.describe)?i("div",{staticClass:"show_item"},[i("div",{staticClass:"show_img"},[t.avatar?i("img",{attrs:{src:t.avatar,alt:""}}):t._e()]),t._v(" "),i("div",{staticClass:"type_show_content",staticStyle:{width:"calc(100% - 40px)"}},[t.avatar?i("div",{staticClass:"tyep_triangle"}):t._e(),t._v(" "),i("div",{staticClass:"test_msg"},["链接"==e.name?i("div",{staticClass:"link_list"},[i("div",[t._v(t._s(e.linkList.title))]),t._v(" "),i("div",[t._v(t._s(e.linkList.link))]),t._v(" "),i("div",[t._v(t._s(e.linkList.describe))]),t._v(" "),e.linkList.link_img?i("img",{attrs:{src:e.linkList.link_img,alt:""}}):t._e()]):t._e()])])]):t._e(),t._v(" "),"小程序"==e.name&&(e.applet.title||e.applet.appid||e.applet.page)?i("div",{staticClass:"show_item"},[i("div",{staticClass:"show_img"},[t.avatar?i("img",{attrs:{src:t.avatar,alt:""}}):t._e()]),t._v(" "),i("div",{staticClass:"type_show_content",staticStyle:{width:"calc(100% - 40px)"}},[t.avatar?i("div",{staticClass:"tyep_triangle"}):t._e(),t._v(" "),i("div",{staticClass:"test_msg"},[i("div",{staticClass:"link_list"},[i("div",[t._v(t._s(e.applet.title))]),t._v(" "),e.applet.link_img?i("img",{attrs:{src:e.applet.link_img,alt:""}}):t._e()])])])]):t._e(),t._v(" "),"视频"==e.name&&e.video.link_video?i("div",{staticClass:"show_item"},[i("div",{staticClass:"show_img"},[t.avatar?i("img",{attrs:{src:t.avatar,alt:""}}):t._e()]),t._v(" "),i("div",{staticClass:"type_show_content"},[i("div",{}),t._v(" "),i("div",{},["视频"==e.name&&e.video.link_video?i("video",{staticStyle:{width:"100%"},attrs:{src:e.video.link_video,alt:"",controls:"controls"}}):t._e()])])]):t._e(),t._v(" "),"文件"==e.name&&e.file.link_file?i("div",{staticClass:"show_item"},[i("div",{staticClass:"show_img"},[t.avatar?i("img",{attrs:{src:t.avatar,alt:""}}):t._e()]),t._v(" "),i("div",{staticClass:"type_show_content"},[t.avatar?i("div",{staticClass:"tyep_triangle"}):t._e(),t._v(" "),i("div",{staticClass:"test_msg "},[i("div",{staticClass:"link_list check_card"},[i("a",[t._v(t._s(e.file.link_file))])])])])]):t._e()])})],2)},h,!1,null,"1b621a72",null));v.options.__file="content_show_card.vue";var f={components:{content_options_card:_,content_show_card:v.exports},props:{textState:{type:String,default:"one"},testSlogan:{type:String,default:"感谢您的关注，我们将竭诚为您服务!"},nicknameList:{type:Array,default:function(){return[{name:"客户昵称",value:"{{客户昵称}}"}]}},dataShowList:{type:Array,default:function(){return[]}},styleContext:{type:Object,default:function(){return{position:"absolute",right:0,top:"-120px",height:"622px"}}},avatar:{type:String,default:""}},data:function(){return{gnChioceLists:[],submitData:[],texts:"",show:!1}},mounted:function(){this.$route.query.id?this.show=!0:(this.show=!0,this.texts=this.testSlogan,"one"==this.textState&&(this.submitData.push({name:"文本",texts:this.testSlogan}),this.submitData=this.filterChioceListData(this.submitData)))},computed:{showStyle:function(){return this.styleContext}},methods:{chioceList:function(t){this.gnChioceLists=t,this.filterTextsData()},news:function(t){this.texts=t,this.filterTextsData()},filterTextsData:function(){var t=!0,e=!1,i=void 0;try{for(var s,n=a()(this.gnChioceLists);!(t=(s=n.next()).done);t=!0){var o=s.value;"文本"==o.name&&(o.texts=this.texts)}}catch(t){e=!0,i=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw i}}this.submitData=JSON.parse(l()(this.gnChioceLists)),0===this.submitData.filter(function(t){return"文本"==t.name}).length&&this.submitData.unshift({name:"文本",texts:this.texts}),this.submitData=this.filterChioceListData(this.submitData)},filterNicename:function(t){var e=t;if(void 0!=t){var i=!0,s=!1,n=void 0;try{for(var l,o=a()(this.nicknameList);!(i=(l=o.next()).done);i=!0){var c=l.value,r=new RegExp('">'+c.value+"<","g");e=e.replace(r,'">'+c.name+"<")}}catch(t){s=!0,n=t}finally{try{!i&&o.return&&o.return()}finally{if(s)throw n}}return e}},filterChioceListData:function(t){var e=[],i=!0,s=!1,n=void 0;try{for(var l,o=a()(t);!(i=(l=o.next()).done);i=!0){var c=l.value;switch(c.name){case"文本":e.push({type:"text",news:"one"==this.textState?this.filterNicename(c.texts):void 0!==c.textList?this.filterNicename(c.textList.text):""});break;case"图片":e.push({type:"image",link_img:c.imgList.link_img});break;case"链接":e.push({type:"link",title:c.linkList.title,link:c.linkList.link,describe:c.linkList.describe,link_img:c.linkList.link_img});break;case"小程序":e.push({type:"applet",title:c.applet.title,appid:c.applet.appid,page:c.applet.page,link_img:c.applet.link_img});break;case"视频":e.push({type:"video",link_video:c.video.link_video});break;case"文件":e.push({type:"file",link_file:c.file.link_file})}}}catch(t){s=!0,n=t}finally{try{!i&&o.return&&o.return()}finally{if(s)throw n}}return e}}},g=(i("jtfh"),Object(d.a)(f,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"content-card"}},[i("el-row",[i("el-col",{attrs:{span:18}},[t.show?i("content_options_card",{ref:"content_options_card",attrs:{textState:t.textState,testSlogan:t.testSlogan,nicknameList:t.nicknameList,dataShowList:t.dataShowList},on:{news:t.news,chioceList:t.chioceList}}):t._e()],1),t._v(" "),i("el-col",{staticClass:"content-show-box",style:t.showStyle,attrs:{span:6}},[i("content_show_card",{staticClass:"content-show-card",attrs:{textState:t.textState,avatar:t.avatar,testSlogan:t.testSlogan,texts:t.texts,gnChioceLists:t.gnChioceLists}})],1)],1)],1)},[],!1,null,"2e2835ff",null));g.options.__file="content_card.vue";e.a=g.exports},YEIV:function(t,e,i){"use strict";e.__esModule=!0;var s=function(t){return t&&t.__esModule?t:{default:t}}(i("SEkw"));e.default=function(t,e,i){return e in t?(0,s.default)(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},bZdz:function(t,e,i){t.exports=i.p+"static/img/welcome_top.d6767fe.png"},cvUb:function(t,e,i){"use strict";var s=i("032W");i.n(s).a},fW1p:function(t,e,i){var s=i("Y7ZC"),a=i("E8gZ")(!1);s(s.S,"Object",{values:function(t){return a(t)}})},jtfh:function(t,e,i){"use strict";var s=i("9mf2");i.n(s).a},nhzr:function(t,e,i){i("fW1p"),t.exports=i("WEpk").Object.values},oM2R:function(t,e,i){},yEv8:function(t,e,i){"use strict";var s=i("oM2R");i.n(s).a}}]);